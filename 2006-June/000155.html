<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Liman-svn] r165 - in trunk: . docs/beleg3 docs/beleg3/sourcecodes docs/beleg3/sourcecodes/design docs/beleg3/sourcecodes/include include
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/liman-svn/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:liman-svn%40lists.berlios.de?Subject=Re%3A%20%5BLiman-svn%5D%20r165%20-%20in%20trunk%3A%20.%20docs/beleg3%20docs/beleg3/sourcecodes%20docs/beleg3/sourcecodes/design%20docs/beleg3/sourcecodes/include%20include&In-Reply-To=%3C200606131453.k5DErr0j021993%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000154.html">
   <LINK REL="Next"  HREF="000156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Liman-svn] r165 - in trunk: . docs/beleg3 docs/beleg3/sourcecodes docs/beleg3/sourcecodes/design docs/beleg3/sourcecodes/include include</H1>
    <B>lazhur at BerliOS</B> 
    <A HREF="mailto:liman-svn%40lists.berlios.de?Subject=Re%3A%20%5BLiman-svn%5D%20r165%20-%20in%20trunk%3A%20.%20docs/beleg3%20docs/beleg3/sourcecodes%20docs/beleg3/sourcecodes/design%20docs/beleg3/sourcecodes/include%20include&In-Reply-To=%3C200606131453.k5DErr0j021993%40sheep.berlios.de%3E"
       TITLE="[Liman-svn] r165 - in trunk: . docs/beleg3 docs/beleg3/sourcecodes docs/beleg3/sourcecodes/design docs/beleg3/sourcecodes/include include">lazhur at berlios.de
       </A><BR>
    <I>Tue Jun 13 16:53:53 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000154.html">[Liman-svn] r164 - in trunk: docs/beleg2 docs/beleg2/doxygen docs/beleg3/interfaces include
</A></li>
        <LI>Next message: <A HREF="000156.html">[Liman-svn] r166 - in trunk: docs/beleg3/sourcecodes/include include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: lazhur
Date: 2006-06-13 16:53:50 +0200 (Tue, 13 Jun 2006)
New Revision: 165

Added:
   trunk/docs/beleg3/sourcecodes/bibtex.php
   trunk/docs/beleg3/sourcecodes/commentmod.php
   trunk/docs/beleg3/sourcecodes/design/
   trunk/docs/beleg3/sourcecodes/design/liman.css
   trunk/docs/beleg3/sourcecodes/include/config.php
   trunk/docs/beleg3/sourcecodes/include/footer.php
   trunk/docs/beleg3/sourcecodes/include/form_helper.php
   trunk/docs/beleg3/sourcecodes/include/global.php
   trunk/docs/beleg3/sourcecodes/include/header.php
   trunk/docs/beleg3/sourcecodes/include/kommentar.php
   trunk/docs/beleg3/sourcecodes/include/literatur.php
   trunk/docs/beleg3/sourcecodes/include/literaturart.php
   trunk/docs/beleg3/sourcecodes/include/login.php
   trunk/docs/beleg3/sourcecodes/include/mitglied.php
   trunk/docs/beleg3/sourcecodes/include/sqldb.php
   trunk/docs/beleg3/sourcecodes/include/sqldb_mysql.php
   trunk/docs/beleg3/sourcecodes/include/suche.php
   trunk/docs/beleg3/sourcecodes/index.php
   trunk/docs/beleg3/sourcecodes/install.php
   trunk/docs/beleg3/sourcecodes/lit.php
   trunk/docs/beleg3/sourcecodes/litmod.php
   trunk/docs/beleg3/sourcecodes/login.php
   trunk/docs/beleg3/sourcecodes/search.php
   trunk/docs/beleg3/sourcecodes/searchmore.php
   trunk/docs/beleg3/sourcecodes/user.php
   trunk/docs/beleg3/sourcecodes/userlist.php
   trunk/docs/beleg3/sourcecodes/usermod.php
   trunk/docs/beleg3/tests.tex
Modified:
   trunk/bibtex.php
   trunk/commentmod.php
   trunk/docs/beleg3/programmdokumentation.tex
   trunk/docs/beleg3/sourcecodes/include/autor.php
   trunk/include/config.php
   trunk/index.php
   trunk/install.php
   trunk/lit.php
   trunk/litmod.php
   trunk/login.php
   trunk/search.php
   trunk/searchmore.php
   trunk/user.php
   trunk/userlist.php
   trunk/usermod.php
Log:
- Quelltexte in dritten Teilbeleg eingef?\195?\188gt
- weitere Kommentare hinzugef?\195?\188gt und entfernt


Modified: trunk/bibtex.php
===================================================================
--- trunk/bibtex.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/bibtex.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;BibTeX Importieren&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 

Modified: trunk/commentmod.php
===================================================================
--- trunk/commentmod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/commentmod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -12,7 +12,6 @@
 	{
 		$title = &quot;Kommentar hinzuf&#195;&#188;gen&quot;;
 	}
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 

Modified: trunk/docs/beleg3/programmdokumentation.tex
===================================================================
--- trunk/docs/beleg3/programmdokumentation.tex	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/programmdokumentation.tex	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,4 +1,5 @@
 \chapter{Programmdokumentation}
+% Klasseninterfaces
 \section{Definition Klasseninterfaces}
 \subsection{Klasse Autor}
 \lstinputlisting{interfaces/autor.php}
@@ -24,17 +25,89 @@
 \subsection{Klasse Suche}
 \lstinputlisting{interfaces/suche.php}
 
+% Quelltexte
+\section{Kommentierte Quelltexte}
+\subsection{bibtex.php}
+\lstinputlisting{sourcecodes/bibtex.php}
 
+\subsection{commentmod.php}
+\lstinputlisting{sourcecodes/commentmod.php}
 
-\section{Kommentierte Quelltexte}
+\subsection{index.php}
+\lstinputlisting{sourcecodes/index.php}
+
+\subsection{install.php}
+\lstinputlisting{sourcecodes/install.php}
+
+\subsection{litmod.php}
+\lstinputlisting{sourcecodes/litmod.php}
+
+\subsection{lit.php}
+\lstinputlisting{sourcecodes/lit.php}
+
+\subsection{login.php}
+\lstinputlisting{sourcecodes/login.php}
+
+\subsection{searchmore.php}
+\lstinputlisting{sourcecodes/searchmore.php}
+
+\subsection{search.php}
+\lstinputlisting{sourcecodes/search.php}
+
+\subsection{userlist.php}
+\lstinputlisting{sourcecodes/userlist.php}
+
+\subsection{usermod.php}
+\lstinputlisting{sourcecodes/usermod.php}
+
+\subsection{user.php}
+\lstinputlisting{sourcecodes/user.php}
+
+\subsection{design/liman.css}
+\lstinputlisting{sourcecodes/design/liman.css}
+
 \subsection{include/autor.php}
 \lstinputlisting{sourcecodes/include/autor.php}
 
-\section{Testplan}
-\subsection{Testf&#195;&#164;lle}
+\subsection{include/config.php}
+\lstinputlisting{sourcecodes/include/config.php}
 
-\subsection{Testmatrix}
+\subsection{include/footer.php}
+\lstinputlisting{sourcecodes/include/footer.php}
 
-\section{Systemtest}
+\subsection{include/form\_helper.php}
+\lstinputlisting{sourcecodes/include/form_helper.php}
 
-\section{Abschlu&#195;&#159;einsch&#195;&#164;tzung}
\ No newline at end of file
+\subsection{include/global.php}
+\lstinputlisting{sourcecodes/include/global.php}
+
+\subsection{include/header.php}
+\lstinputlisting{sourcecodes/include/header.php}
+
+\subsection{include/kommentar.php}
+\lstinputlisting{sourcecodes/include/kommentar.php}
+
+\subsection{include/literaturart.php}
+\lstinputlisting{sourcecodes/include/literaturart.php}
+
+\subsection{include/literatur.php}
+\lstinputlisting{sourcecodes/include/literatur.php}
+
+\subsection{include/login.php}
+\lstinputlisting{sourcecodes/include/login.php}
+
+\subsection{include/mitglied.php}
+\lstinputlisting{sourcecodes/include/mitglied.php}
+
+\subsection{include/sqldb\_mysql.php}
+\lstinputlisting{sourcecodes/include/sqldb_mysql.php}
+
+\subsection{include/sqldb.php}
+\lstinputlisting{sourcecodes/include/sqldb.php}
+
+\subsection{include/suche.php}
+\lstinputlisting{sourcecodes/include/suche.php}
+
+
+% Tests
+\input{tests.tex}
\ No newline at end of file

Added: trunk/docs/beleg3/sourcecodes/bibtex.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/bibtex.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/bibtex.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,104 @@
+&lt;?php
+	$title = &quot;BibTeX Importieren&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+
+	// Abbruch wenn keine Mitgliedsrechte vorhanden
+	if ($login-&gt;IsMember() === false)
+	{
+		echo &quot;&lt;div id=\&quot;error\&quot;&gt;Sie sind f&#252;r diese Aktion nicht berechtigt&lt;/div&gt;&quot;;
+		require_once(&quot;include/footer.php&quot;);
+		die();
+	}
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+&lt;?php
+	// Zeige Importformular, wenn noch keine Daten gesendet wurden
+	if (empty($_FILES[&quot;bibtexfile&quot;]) === true &amp;&amp; empty($_POST[&quot;bibtextext&quot;]) === true)
+	{
+	?&gt;
+		&lt;form action=&quot;bibtex.&lt;?=$ext;?&gt;&quot; id=&quot;bibtexfileform&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
+		&lt;fieldset&gt;
+			&lt;legend&gt;&lt;b&gt;BibTeX-Datei importieren&lt;/b&gt;&lt;/legend&gt;
+		
+		
+			&lt;table class=&quot;bibteximport&quot;&gt;
+				&lt;tbody&gt;
+					&lt;tr&gt;
+						&lt;th scope=row&gt;&lt;label for=&quot;bibtextext&quot;&gt;Datei:&lt;/label&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;input class=&quot;input_file&quot; type=&quot;file&quot; id=&quot;bibtexfile&quot; name=&quot;bibtexfile&quot;&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+					&lt;tr&gt;
+						&lt;th&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Importieren&quot;&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+				&lt;/tbody&gt;
+			&lt;/table&gt;
+		&lt;/fieldset&gt;
+		&lt;/form&gt;
+	
+		&lt;hr&gt;
+		
+		&lt;form action=&quot;bibtex.&lt;?=$ext;?&gt;&quot; id=&quot;bibtextextform&quot; method=&quot;post&quot;&gt;
+		&lt;fieldset&gt;
+			&lt;legend&gt;&lt;b&gt;BibTeX importieren&lt;/b&gt;&lt;/legend&gt;
+			&lt;table class=&quot;bibteximport&quot;&gt;
+				&lt;tbody&gt;
+					&lt;tr&gt;
+						&lt;th scope=row&gt;&lt;label for=&quot;bibtextext&quot;&gt;BibTeX:&lt;/label&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;textarea cols=&quot;20&quot; rows=&quot;10&quot; name=&quot;bibtextext&quot; id=&quot;bibtextext&quot;&gt;&lt;/textarea&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+					&lt;tr&gt;
+						&lt;th&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Importieren&quot;&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+				&lt;/tbody&gt;
+			&lt;/table&gt;
+		&lt;/fieldset&gt;
+		&lt;/form&gt;
+	&lt;?php
+	}
+	else
+	{
+		// BibTeX-Daten entweder von Dateiupload oder &#252;bergebenen Textdaten
+		$bibtex = &quot;&quot;;
+		if (empty($_FILES[&quot;bibtexfile&quot;]) === false)
+		{
+			// Wenn Datei hochgeladen wurde, lese Inhalt der Datei
+			$bibtex = file_get_contents($_FILES[&quot;bibtexfile&quot;][&quot;tmp_name&quot;]);
+		}
+		elseif (empty($_POST[&quot;bibtextext&quot;]) === false)
+		{
+			// Wenn Textdaten hochgeladen wurden, entferne automatisch
+			// hinzugef&#252;gte Backslashes vor Zeichen mit besonderer Bedeutung
+			$bibtex = stripslashes($_POST[&quot;bibtextext&quot;]);
+		}
+
+		// Fehler, wenn &quot;nichts&quot; hochgeladen/&#252;bergeben wurde
+		if ($bibtex === false || empty($bibtex) === true)
+		{
+			echo &quot;&lt;div id=\&quot;error\&quot;&gt;Konnte nichts zum importieren lesen&lt;/div&gt;&quot;;
+		}
+		else
+		{
+			// Importiere BibTeX in Datenbank
+			require_once(&quot;include/literatur.php&quot;);
+			$imported = Literatur::InsertBibTeX($bibtex);
+
+			// Gebe je nach Anzahl importierter Literatureintr&#228;ge Text aus
+			switch ($imported)
+			{
+			case 0:
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Keine Literatur wurde importiert&lt;/p&gt;&quot;;
+				break;
+			case 1:
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Ein Literatureintrag wurde importiert&lt;/p&gt;&quot;;
+				break;
+			default:
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;$imported Literatureintr&#228;ge wurden importiert&lt;/p&gt;&quot;;
+			}
+		}
+	}
+	?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/commentmod.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/commentmod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/commentmod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,128 @@
+&lt;?php
+	// W&#228;hle Seitentitel nach ausgew&#228;hlter Aktion
+	if (isset($_GET[&quot;delete&quot;]) === true)
+	{
+		$title = &quot;Kommentar l&#246;schen&quot;;
+	}
+	elseif (isset($_GET[&quot;id&quot;]) === true || isset($_POST[&quot;id&quot;]) === true)
+	{
+		$title = &quot;Kommentar &#228;ndern&quot;;
+	}
+	else
+	{
+		$title = &quot;Kommentar hinzuf&#252;gen&quot;;
+	}
+
+	require_once(&quot;include/header.php&quot;);
+
+	// Abbruch wenn keine Mitgliedsrechte vorhanden
+	if ($login-&gt;IsMember() === false)
+	{
+		echo &quot;&lt;div id=\&quot;error\&quot;&gt;Sie sind f&#252;r diese Aktion nicht berechtigt&lt;/div&gt;&quot;;
+		require_once(&quot;include/footer.php&quot;);
+		die();
+	}
+	elseif ($login-&gt;IsAdministrator() === false)
+	{
+		// Wenn keine Administratorrechte vorhanden sind
+		// d&#252;rfen nur die eigenen Daten ge&#228;ndert werden
+		$_GET[&quot;userid&quot;] = $login-&gt;Nr;
+		$_POST[&quot;userid&quot;] = $login-&gt;Nr;
+	}
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+&lt;?php
+	require_once(&quot;include/kommentar.php&quot;);
+	require_once(&quot;include/form_helper.php&quot;);
+
+	// Suche gew&#228;hlte Aktion
+	if (isset($_GET[&quot;delete&quot;]) === true)
+	{
+		// L&#246;schen wenn akzeptiert wurde
+		if (isset($_POST[&quot;accept&quot;]) === true)
+		{
+			// Fehlerhafte Daten zum L&#246;schen &#252;bertragen?
+			if (empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false)
+			{
+				// Wenn ja, gebe Fehler aus
+				echo &quot;&lt;p id=\&quot;error\&quot;&gt;Kommentar konnte nicht gel&#246;scht werden, da es ein Fehler bei der &#220;bertragung der Informationen des Kommentars gab&lt;/p&gt;&quot;;
+			}
+			else
+			{
+				// Wenn nicht, l&#246;sche Kommentar und gebe Erfolgsmeldung aus
+				Kommentar::Delete($_POST[&quot;id&quot;]);
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Kommentar wurde entfernt&lt;/p&gt;&quot;;
+			}
+
+			// Wurde eine Literaturnummer &#252;bergeben, gebe Zur&#252;ckbutton aus
+			if (empty($_POST[&quot;litid&quot;]) === false)
+			{
+				echo form_back(&quot;lit.$ext&quot;, $_POST[&quot;litid&quot;]);
+			}
+		}
+		else
+		{
+			// Frage ob Kommentar gel&#246;scht werden soll
+			require_once(&quot;include/form_helper.php&quot;);
+			echo &quot;&lt;div id=\&quot;warning\&quot; style=\&quot;margin-top: 2em\&quot;&gt;&quot;;
+			echo &quot;Wollen sie den Kommentar wirklich entfernen?&quot;;
+			echo &quot;&lt;form action=\&quot;commentmod.&quot;.$ext.&quot;?delete\&quot; id=\&quot;commentupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+			echo form_input(&quot;hidden&quot;, &quot;id&quot;, $_GET[&quot;id&quot;]);
+			echo form_input(&quot;hidden&quot;, &quot;accept&quot;, &quot;true&quot;);
+			if (empty($_GET[&quot;litid&quot;]) === false)
+			{
+				echo form_input(&quot;hidden&quot;, &quot;litid&quot;, $_GET[&quot;litid&quot;]);
+			}
+
+			echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Best&#228;tigen\&quot;&gt;&quot;;
+			echo &quot;&lt;/form&gt;&lt;/div&gt;&quot;;
+		}
+	}
+	elseif  (isset($_GET[&quot;insert&quot;]) === true)
+	{
+		// Fehlerhafte Daten zum Anlegen &#252;bertragen?
+		if (isset($_POST[&quot;text&quot;]) === false ||
+			empty($_POST[&quot;userid&quot;]) === true || is_numeric($_POST[&quot;userid&quot;]) === false ||
+			empty($_POST[&quot;litid&quot;]) === true || is_numeric($_POST[&quot;litid&quot;]) === false)
+		{
+			// Wenn ja, gebe Fehler aus
+			echo &quot;&lt;p id=\&quot;error\&quot;&gt;Kommentar konnte nicht angelegt werden, da es ein Fehler bei der &#220;bertragung der Informationen des Kommentars gab&lt;/p&gt;&quot;;
+		}
+		else
+		{
+			// Wenn nicht, lege Kommentar an und gebe Erfolgsmeldung aus
+			Kommentar::Insert($_POST[&quot;text&quot;], $_POST[&quot;userid&quot;], $_POST[&quot;litid&quot;]);
+			echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Kommentar wurde angelegt&lt;/p&gt;&quot;;
+		}
+
+		// Wurde eine Literaturnummer &#252;bergeben, gebe Zur&#252;ckbutton aus
+		if (empty($_POST[&quot;litid&quot;]) === false)
+		{
+			echo form_back(&quot;lit.$ext&quot;, $_POST[&quot;litid&quot;]);
+		}
+	}
+	elseif (isset($_GET[&quot;update&quot;]) === true)
+	{
+		// Fehlerhafte Daten zum &#196;ndern &#252;bertragen?
+		if (isset($_POST[&quot;text&quot;]) === false ||
+			empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false)
+		{
+			// Wenn ja, gebe Fehler aus
+			echo &quot;&lt;p id=\&quot;error\&quot;&gt;Kommentar konnte nicht ge&#228;ndert werden, da es ein Fehler bei der &#220;bertragung der Informationen des Kommentars gab&lt;/p&gt;&quot;;
+		}
+		else
+		{
+			// Wenn nicht, &#228;ndere Kommentar und gebe Erfolgsmeldung aus
+			Kommentar::Update($_POST[&quot;id&quot;], $_POST[&quot;text&quot;]);
+			echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Kommentar wurde ge&#228;ndert&lt;/p&gt;&quot;;
+		}
+
+		// Wurde eine Literaturnummer &#252;bergeben, gebe Zur&#252;ckbutton aus
+		if (empty($_POST[&quot;litid&quot;]) === false)
+		{
+			echo form_back(&quot;lit.$ext&quot;, $_POST[&quot;litid&quot;]);
+		}
+	}
+?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/design/liman.css
===================================================================
--- trunk/docs/beleg3/sourcecodes/design/liman.css	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/design/liman.css	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,153 @@
+html, body {
+	background-color: #f0f0f0;
+	color: black;
+	font: x-small sans-serif;
+	margin: 0;
+	padding: 0;
+}
+
+abbr, acronym {
+	border-bottom: 1px dotted black;
+	cursor: help;
+}
+
+h1 {
+	margin-left: 1em;
+}
+
+hr {
+	margin-top: 2em;
+	margin-bottom: 2em;
+}
+
+#installerror {
+	margin: 0;
+	padding: 3px;
+	border-bottom: 1px solid #000000;
+	background-color: #ffffdc;
+}
+
+#content h2 {
+	padding-bottom: 1em;
+}
+
+#sidebar {
+	float: left;
+	width: 11.5em;
+	padding: 0;
+	margin-left: .1em;
+	font-size: 125%;
+}
+
+#sidebar h2 {
+	font-size: 1em;	
+	margin: .2em .2em .2em .5em;
+}
+
+#navigation, #search, #loginbox {
+	background-color: white;
+	border: 1px solid #aaa;
+	color: black;
+	font-size: 0.9em;
+	margin-bottom: 1em;	
+	padding: 0 0.5em .3em 0em;
+	position: relative;
+	z-index: 3;
+}
+
+#navigation ul {
+	margin: 0 0 1em 0;
+	padding-left: 1em;
+	list-style: none;
+}
+
+#search input, #loginform #loginname, #loginform #passwort {
+	margin: 0 auto;
+	font-size: 1em;
+	width: 10.8em;
+	display: box;
+}
+
+#search form, #loginform {
+	text-align: center
+}
+
+#content {
+	background-color: white;
+	border: 1px solid #aaa;
+	font-size: 125%;
+	margin: 0em .1em 0em 12em;
+	padding: 1em;
+	position: relative;
+	min-height: 20em;
+}
+
+#content h2 {
+	margin: 0.1em;
+}
+
+.content {
+	margin-left: 1em;
+}
+
+#content form td {
+	width: 99%;
+}
+
+#content form th {
+	width: 20em;
+}
+
+#content .input_text,
+#content .input_file,
+#content .input_password,
+#content form textarea {
+	width: 99%;
+}
+
+#searchresult, #userlist {
+	
+	width: 99%;
+	border: 1px solid black;
+	border-collapse: collapse;
+}
+.searchmore th label {
+	width:9em;
+}
+
+
+#searchresult td, #searchresult th,  #userlist th{
+	border: 1px solid black;
+	text-align: center;
+}
+#userlist td {
+	border: 1px solid black;
+	text-align: left;
+}
+
+#litdetails th {
+	text-align: left;
+	vertical-align: top;
+}
+
+#litkommentare .kommentar {
+	width: 99%;
+}
+
+#error_list, #error {
+	padding: 0.5em;
+	border: 2px solid red;
+	margin: 0 auto;
+	margin-bottom: 1em;
+	background-color: #ffeaea;
+}
+
+#error, #warning {
+	text-align: center;
+}
+
+.input_failure {
+	border-color: red;
+	background-color: red;
+	color: black;
+}

Modified: trunk/docs/beleg3/sourcecodes/include/autor.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/autor.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/autor.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -8,9 +8,10 @@
 	 *  - Login::IsMember
 	 *  - SQLDB::Query
 	 *  - SQLDB::Fetch
+	 *  - SQLDB::GetInsertID
 	 *
 	 *  \author Frank Wilhelm
-	 *  \date 30.05.2006
+	 *  \date 6.06.2006
 	 */
 	class Autor
 	{
@@ -44,14 +45,47 @@
 		{
 			global $db_config, $sqldb, $login;
 
+			// Nur wenn wir als Mitglied angemeldet sind
 			if ($login-&gt;IsMember() === true)
 			{
+				// Entferne Autoren ohne Verbindung in Literatur_Autor zur Literatur
 				$sql = &quot;DELETE autoren, connect
 						FROM &quot;.$db_config['prefix'].&quot;Autoren AS autoren
 						LEFT JOIN &quot;.$db_config['prefix'].&quot;Literatur_Autor AS connect
 						ON autoren.Autor_Nr = connect.Autor_Nr
 						WHERE connect.Autor_Nr is NULL&quot;;
-				$sqldb-&gt;Query($sql);
+
+				if ($sqldb-&gt;Query($sql) === false)
+				{
+					// Workaround f&#252;r MySQL &lt; 4
+					// Finde Autoren ohne Verbindung in Literatur_Autor zur Literatur
+					$sql = &quot;SELECT autoren.Autor_Nr AS Nr
+							FROM &quot;.$db_config['prefix'].&quot;Autoren AS autoren
+							LEFT JOIN &quot;.$db_config['prefix'].&quot;Literatur_Autor AS connect
+							ON autoren.Autor_Nr = connect.Autor_Nr
+							WHERE connect.Autor_Nr is NULL&quot;;
+					$sqldb-&gt;Query($sql);
+
+					// Lese alle Autorennummern aus
+					$authorid = array();
+					while ($line = $sqldb-&gt;Fetch())
+					{
+						$authorid[] = $line-&gt;Nr;
+					}
+
+					// Wenn Autoren gefunden worden
+					if (empty($authorid) === false)
+					{
+						// Erstelle Kommagetrennte Liste der Autorennummern
+						$idlist = implode(&quot;, &quot;, $authorid);
+
+						// L&#246;sche gefundene Autoren
+						$sqlDelete = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Autoren
+								WHERE Autor_Nr IN (&quot;;
+								$sqlDelete .= $idlist.&quot;)&quot;;
+						$sqldb-&gt;Query($sqlDelete);
+					}
+				}
 			}
 		}
 
@@ -62,19 +96,22 @@
 		 *  Typs Autor zur&#252;ck.
 		 *  \param[in] $literatur_nr Nr einer Literatur mit Autoren
 		 *  \pre Datenbankverbindung muss bestehen
-		 *  \return Feld vom Typ Autor
+		 *  \return Feld mit Elementen vom Typ Autor
 		 */
 		function GetAll($literatur_nr)
 		{
 			global $db_config, $sqldb;
 
-			$authors = array();
+			// Lese alle Autoren mit Verbindung zu Literatur in Literatur_Autor
 			$sql = &quot;SELECT  autoren.Autor_Nr AS Nr, Autorname AS Name
 					FROM &quot;.$db_config['prefix'].&quot;Literatur_Autor AS connect
 					INNER JOIN  &quot;.$db_config['prefix'].&quot;Autoren AS autoren
 					ON connect.Autor_Nr = autoren.Autor_Nr
 					WHERE Literatur_Nr = '$literatur_nr'&quot;;
 			$sqldb-&gt;Query($sql);
+
+			// Lese Autoren aus und erstelle Array aus gefundenen Autoren
+			$authors = array();
 			while ($cur = $sqldb-&gt;Fetch())
 			{
 				$authors[] = new Autor($cur);
@@ -101,32 +138,37 @@
 		function Split($autoren)
 		{
 			global $db_config, $sqldb, $login;
-			
 			$authorNumbers = array();
 
+			// Nur wenn wir als Mitglied angemeldet sind
 			if ($login-&gt;IsMember() === true)
 			{
+				// Trenne kommagetrennte Liste der Autoren an Kommas auf
 				$authorNames = array();
-				$authorNames = split( &quot;,&quot;, $autoren );
-			
-				for( $i = 0; $i &lt; count($authorNames); $i++ )
+				$authorNames = split(&quot;,&quot;, $autoren);
+
+				// Suche ob jeder Autorname in kommagetrennter Liste in Autoren steht
+				foreach ($authorNames as $autor)
 				{
+					// Suche nach Autoreintrag
 					$sqlSelect = &quot;SELECT Autor_Nr AS Nr FROM &quot;.$db_config['prefix'].&quot;Autoren AS autoren
-							WHERE Autorname = '&quot;.trim($authorNames[$i]).&quot;'&quot;;
+							WHERE Autorname = '&quot;.trim($autor).&quot;'&quot;;
 					$sqldb-&gt;Query( $sqlSelect );
 					
-					if( $cur = $sqldb-&gt;Fetch() )
+					// Existiert der Eintrag?
+					if ($cur = $sqldb-&gt;Fetch())
 					{
+						// Wenn ja, speichere Autornummer f&#252;r R&#252;ckgabe
 						$authorNumbers[] = $cur-&gt;Nr;
 					}
 					else
 					{
-						$sqlInsert = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Autoren VALUES (NULL, '&quot;.trim($authorNames[$i]).&quot;')&quot;;
-						$sqlIdentity = &quot;SELECT @@IDENTITY AS Nr FROM &quot;.$db_config['prefix'].&quot;Autoren&quot;;
-						$sqldb-&gt;Query( $sqlInsert );
-						$sqldb-&gt;Query( $sqlIdentity );
-						$line = $sqldb-&gt;Fetch();
-						$authorNumbers[] = $line-&gt;Nr;
+						// Wenn nicht, dann f&#252;ge Autorname in Datenbank ein
+						$sqlInsert = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Autoren VALUES (NULL, '&quot;.trim($autor).&quot;')&quot;;
+						$sqldb-&gt;Query($sqlInsert);
+
+						// Speichere neue Autornummer f&#252;r R&#252;ckgabe
+						$authorNumbers[] = $sqldb-&gt;GetInsertID();
 					}
 				}
 			}

Added: trunk/docs/beleg3/sourcecodes/include/config.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/config.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/config.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,12 @@
+&lt;?php
+	// Datenbankeinstellungen
+	$db_config['dbms'] = &quot;mysql&quot;;	// welche Datenbankklasse benutzen?
+	$db_config['user'] = &quot;liman&quot;; // Nutzername des Datenbanknutzers
+	$db_config['pass'] = &quot;drownamil&quot;; // Passwort f&#252;r Datenbanknutzer
+	$db_config['name'] = &quot;liman&quot;; // Name der Datenbank
+	$db_config['host'] = &quot;db.berlios.de&quot;; // Adresse des Datenbankservers
+	$db_config['prefix'] = &quot;liman_&quot;; // Prefix der Tabellennamen
+
+	$ext = &quot;php&quot;;	// Endung der von den Usern abrufbaren Dateien
+	$gz_enable = true; // aktiviere GZIP-Kompression der HTML-Dateien
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/footer.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/footer.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/footer.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,4 @@
+			&lt;/div&gt;
+		&lt;/div&gt;
+	&lt;/body&gt;
+&lt;/html&gt;

Added: trunk/docs/beleg3/sourcecodes/include/form_helper.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/form_helper.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/form_helper.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,83 @@
+&lt;?php
+	/*! \brief Gibt HTML-Form-Input zur&#252;ck
+	 *
+	 *  \param[in] $type Type des Inputfeldes
+	 *  \param[in] $name ID und Name des Inputfeldes
+	 *  \param[in] $value Inhalt des Feldes
+	 *  \param[in] $failure ob Feld als fehlerhaft markiert werden soll
+	 *  \return String mit HTML-Form-Input
+	 */
+	function form_input($type, $name, $value = &quot;&quot;, $failure = false)
+	{
+		$str = &quot;&lt;input class=\&quot;input_&quot;.$type.&quot;\&quot; type=\&quot;&quot;.htmlspecialchars($type).&quot;\&quot; name=\&quot;&quot;.htmlspecialchars($name).&quot;\&quot; id=\&quot;&quot;.htmlspecialchars($name).&quot;\&quot; &quot;;
+
+		if (empty($value) === false)
+		{
+			$str .= &quot; value=\&quot;&quot;.htmlspecialchars($value).&quot;\&quot; &quot;;
+		}
+
+		if ($failure === true)
+		{
+			$str .= &quot; class=\&quot;input_failure\&quot; &quot;;
+		}
+
+		$str .= &quot;&gt;&quot;;
+		
+		return $str;
+	}
+
+	/*! \brief Gibt HTML-Form-Select zur&#252;ck
+	 *
+	 *  \param[in] $options Feld mit Auswahlm&#246;glichkeiten
+	 *  \param[in] $name ID und Name der Auswahlfeldes
+	 *  \param[in] $value aktuell ausgew&#228;hltes Element der Auswahl
+	 *  \param[in] $failure ob Auswahl als fehlerhaft markiert werden soll
+	 *  \return String mit HTML-Form-Select
+	 */
+	function form_select($options, $name, $value=&quot;&quot;, $failure = false)
+	{
+		$str = &quot;&lt;select id=\&quot;&quot;.htmlspecialchars($name).&quot;\&quot; name=\&quot;&quot;.htmlspecialchars($name).&quot;\&quot; &quot;;
+		if ($failure === true)
+		{
+			$str .= &quot; class=\&quot;input_failure\&quot; &quot;;
+		}
+		$str .= &quot;&gt;&quot;;
+
+		foreach ($options as $option)
+		{
+			$str .= &quot; &lt;option &quot;;
+			if ($option == $value)
+			{
+				$str .= &quot; selected &quot;;
+			}
+			$str .= &quot;&gt;&quot;.htmlspecialchars($option).&quot;&lt;/option&gt;&quot;;
+		}
+		$str .= &quot;&lt;/select&gt;&quot;;
+
+		return $str;
+	}
+
+	/*! \brief Gibt Formular mit Zur&#252;ckknopf zur&#252;ck
+	 *
+	 *  Erzeugt ein einfaches GET-Formular, dass nur aus einem Zur&#252;ckbutton
+	 *  besteht, der entweder auf eine Seite oder einer Seite mit ID
+	 *  verweist. Die ID wird dabei einfach per verstecktem Feld
+	 *  mit dem Namen id &#252;bergeben.
+	 *  \param[in] $url Seite auf die der Knopf zeigt
+	 *  \param[in] $id ID f&#252;r aufzurufende Seite
+	 *  \return String mit Zur&#252;ck-Button im HTML-Form
+	 */
+	function form_back($url, $id=&quot;&quot;)
+	{
+		$str = &quot;&lt;form action=\&quot;&quot;.htmlspecialchars($url).&quot;\&quot; method=\&quot;get\&quot;&gt;&lt;span&gt;&quot;;
+
+		if (func_num_args() == 2)
+		{
+			$str .= form_input(&quot;hidden&quot;, &quot;id&quot;, $id);
+		}
+		
+		$str .= &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Zur&#252;ck\&quot;&gt;&lt;/span&gt;&lt;/form&gt;&quot;;
+
+		return $str;
+	}
+?&gt;
\ No newline at end of file

Added: trunk/docs/beleg3/sourcecodes/include/global.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/global.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/global.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,67 @@
+&lt;?php
+	// Benutze Backslashes, wenn dies nicht automatisch gemacht wird
+	if( !get_magic_quotes_gpc())
+	{
+		function quote_array(&amp;$array)
+		{
+			if (is_array($array))
+			{
+				while (list($k, $v) = each($array))
+				{
+					if (is_array($array[$k]))
+					{
+						while (list($k2, $v2) = each($array[$k]))
+						{
+							$array[$k][$k2] = addslashes($v2);
+						}
+						@reset($array[$k]);
+					}
+					else
+					{
+						$array[$k] = addslashes($v);
+					}
+				}
+				@reset($array);
+			}
+		}
+	
+		quote_array($_GET);
+		quote_array($_POST);
+		quote_array($_COOKIE);
+	}
+
+	/*! \brief Wandelt String in HTML-ID um
+	 *
+	 *  \param[in] str zu verarbeitende Rohdaten
+	 *  \return umgewandelter String
+	 */
+	function makeid($str)
+	{
+		$str = strtolower($str);
+		$str = str_replace(&quot; &quot;, &quot;_&quot;, $str);
+		$str = str_replace(&quot;/&quot;, &quot;_&quot;, $str);
+		$str = str_replace(&quot;\\&quot;, &quot;_&quot;, $str);
+
+		$str = str_replace(&quot;\&quot;&quot;, &quot;_&quot;, $str);
+		$str = str_replace(&quot;'&quot;, &quot;_&quot;, $str);
+
+		$str = str_replace(&quot;&#252;&quot;, &quot;ue&quot;, $str);
+		$str = str_replace(&quot;&uuml;&quot;, &quot;ue&quot;, $str);
+
+		$str = str_replace(&quot;&#228;&quot;, &quot;ae&quot;, $str);
+		$str = str_replace(&quot;&auml;&quot;, &quot;ae&quot;, $str);
+
+		$str = str_replace(&quot;&#246;&quot;, &quot;oe&quot;, $str);
+		$str = str_replace(&quot;&ouml;&quot;, &quot;oe&quot;, $str);
+
+		if ($str[0] == '_')
+		{
+			$str[0] = &quot; &quot;;
+		}
+		return $str;
+	}
+
+	require_once(&quot;include/config.php&quot;);
+	require_once(&quot;include/sqldb.php&quot;);
+	require_once(&quot;include/login.php&quot;);
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/header.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/header.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/header.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,97 @@
+&lt;?php 
+	header(&quot;Content-Language: de&quot;);
+	header(&quot;Content-type: text/html; charset=UTF-8&quot;);
+
+	require_once(&quot;include/global.php&quot;);
+
+	// Aktiviere GZIP-Kompression, wenn gew&#252;nscht
+	if (isset($gz_enable) === true &amp;&amp; $gz_enable === true)
+	{
+		ob_start('ob_gzhandler');
+	}
+?&gt;
+&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;<A HREF="http://www.w3.org/TR/html4/strict.dtd">http://www.w3.org/TR/html4/strict.dtd</A>&quot;&gt;
+&lt;html&gt;
+	&lt;head&gt;
+		&lt;title&gt;&lt;?=empty($title)?&quot;&quot;:$title.&quot; :: &quot;; ?&gt;LiMan&lt;/title&gt;
+		&lt;link rel=&quot;SHORTCUT ICON&quot; href=&quot;favicon.ico&quot;&gt;
+		&lt;style type=&quot;text/css&quot; title=&quot;LiMan 1.0&quot; media=&quot;screen,projection&quot;&gt;
+			@import &quot;design/liman.css&quot;;
+			&lt;?=empty($extracss)?&quot;&quot;:&quot;@import \&quot;design/&quot;.$extracss.&quot;\&quot;;\n&quot;; ?&gt;
+		&lt;/style&gt;
+		&lt;?=empty($extrahead)?&quot;&quot;:$extrahead.&quot;\n&quot;; ?&gt;
+		&lt;meta name=&quot;description&quot; content=&quot;Literature Manager&quot;&gt;
+		&lt;meta name=&quot;keywords&quot; content=&quot;bibtex, books, literature, database, manager&quot;&gt;
+		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
+		&lt;meta name=&quot;robots&quot; content=&quot;follow&quot;&gt;
+		&lt;meta http-equiv=&quot;content-language&quot; content=&quot;de&quot;&gt;
+		&lt;meta name=&quot;author&quot; content=&quot;Simon Wunderlich&quot;&gt;
+		&lt;link rel=&quot;home&quot; title=&quot;Home&quot; href=&quot;index.&lt;?=$ext;?&gt;&quot;&gt;
+	&lt;/head&gt;
+	&lt;body id=&quot;liman&quot;&gt;
+		&lt;?php
+			// Gebe Warnung aus, wenn install.php nicht gel&#246;scht wurde und es nicht unterdr&#252;ckt wird
+			if (file_exists(&quot;install.php&quot;) === true &amp;&amp; 
+				((empty($disable_installwarning) === false &amp;&amp; $disable_installwarning === false)
+				|| empty($disable_installwarning) === true))
+			{
+				echo &quot;&lt;div id=\&quot;installerror\&quot;&gt;
+					install.php wurde nicht gel&#246;scht. Erledigen sie dies so schnell wie m&#246;glich
+					&lt;/div&gt;&quot;;
+			}
+		?&gt;
+		&lt;div id=&quot;container&quot;&gt;
+			&lt;div id=&quot;header&quot;&gt;
+				&lt;h1&gt;&lt;span&gt;&lt;acronym title=&quot;Literature Manager&quot;&gt;LiMan&lt;/acronym&gt;&lt;/span&gt;&lt;/h1&gt;
+			&lt;/div&gt;
+			
+			&lt;div id=&quot;sidebar&quot;&gt;
+				&lt;div id=&quot;navigation&quot;&gt;
+					&lt;h2&gt;&lt;span&gt;Navigation&lt;/span&gt;&lt;/h2&gt;
+					&lt;ul&gt;
+						&lt;li id=&quot;nhome&quot;&gt;&lt;a href=&quot;index.&lt;?=$ext;?&gt;&quot; accesskey=&quot;h&quot;&gt;Literatur&lt;/a&gt;&lt;/li&gt;
+						&lt;li id=&quot;nuser&quot;&gt;&lt;a href=&quot;userlist.&lt;?=$ext;?&gt;&quot; accesskey=&quot;n&quot;&gt;Nutzer&lt;/a&gt;&lt;/li&gt;
+					&lt;/ul&gt;
+				&lt;/div&gt;
+
+				&lt;div id=&quot;search&quot;&gt;
+					&lt;h2&gt;&lt;span&gt;Suchen&lt;/span&gt;&lt;/h2&gt;
+					&lt;form action=&quot;search.&lt;?=$ext;?&gt;&quot; id=&quot;searchform&quot; method=&quot;get&quot;&gt;
+						&lt;div&gt;
+						&lt;input name=&quot;suchbegriff&quot; value=&quot;&quot; type=&quot;text&quot;&gt;
+						&lt;input value=&quot;Suche&quot; type=&quot;submit&quot;&gt;
+						&lt;span style=&quot;font-size: xx-small&quot;&gt;&lt;a href=&quot;searchmore.php&quot;&gt;Erweiterte Suche&lt;/a&gt;&lt;/span&gt;
+						&lt;/div&gt;
+					&lt;/form&gt;
+				&lt;/div&gt;
+
+				&lt;div id=&quot;loginbox&quot;&gt;
+					&lt;h2&gt;&lt;span&gt;Einloggen&lt;/span&gt;&lt;/h2&gt;
+					&lt;?php
+						if ($login-&gt;IsMember() === false)
+						{
+						?&gt;
+							&lt;form action=&quot;login.&lt;?=$ext;?&gt;&quot; id=&quot;loginform&quot; method=&quot;post&quot;&gt;
+								&lt;div&gt;
+								&lt;label for=&quot;loginname&quot;&gt;Login:&lt;/label&gt;&lt;input id=&quot;loginname&quot; name=&quot;loginname&quot; value=&quot;&quot; type=&quot;text&quot;&gt;
+								&lt;label for=&quot;passwort&quot;&gt;Passwort:&lt;/label&gt;&lt;input id=&quot;passwort&quot; name=&quot;passwort&quot; type=&quot;password&quot;&gt;
+								&lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;
+								&lt;/div&gt;
+							&lt;/form&gt;
+						&lt;?php
+						}
+						else
+						{
+						?&gt;
+							&lt;form action=&quot;login.&lt;?=$ext;?&gt;?logout&quot; id=&quot;loginform&quot; method=&quot;post&quot;&gt;
+								&lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Logout&quot;&gt;
+								&lt;/div&gt;
+							&lt;/form&gt;
+						&lt;?php
+						}
+					?&gt;
+				&lt;/div&gt;
+			&lt;/div&gt;
+
+			&lt;div id=&quot;content&quot;&gt;
+				&lt;h2 &lt;?=empty($title)?&quot;&quot;:&quot;id=\&quot;&quot;.makeid($title).&quot;\&quot;&quot;; ?&gt;&gt;&lt;?=empty($title)?&quot;Inhalt&quot;:$title; ?&gt;&lt;/h2&gt;

Added: trunk/docs/beleg3/sourcecodes/include/kommentar.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/kommentar.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/kommentar.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,277 @@
+&lt;?php
+	require_once(&quot;include/login.php&quot;);
+
+	/*! \brief Verwaltet Kommentare
+	 *
+	 *  Stellt Funktionen zum Anlegen, L&#246;schen, Bearbeiten von Kommentaren
+	 *  bereit. Es k&#246;nnen sowohl einzelne Kommentare oder Kommentare nach
+	 *  ihrer Verbindung zur Literatur bzw. Mitgliedern gel&#246;scht werden.
+	 *  \pre Datenbankverbindung muss bestehen
+	 *  \sa
+	 *  - Login::IsAdministrator
+	 *  - Login::IsMember
+	 *  - SQLDB::Query
+	 *  - SQLDB::Fetch
+	 *
+	 *  \author Frank Wilhelm
+	 *  \date 30.05.2006
+	 */
+	class Kommentar
+	{
+		var $Nr = 0; ///&lt; Identifikationsnummer des Kommentars
+		var $Text = 0; ///&lt; Kommentartext
+		var $Verfasser_Nr = 0; ///&lt; Mitglieds_Nr des Verfassers
+		var $Verfasser_Name = 0; ///&lt; Name des Verfassers (Vor- und Nachname)
+		
+		/*! \brief Legt Kommentarobjekt an
+		 *
+		 *  Legt ein neues Kommentarobjekt aus einem Objekt mit den
+		 *  Attributen Nr, Text, Verfasser_Nr und Verfasser_Name an.
+		 *  \pre -
+		 *  \param[in] $data Objekt mit Kommentardaten der Form
+		 *    - Nr
+		 *    - Text
+		 *    - Mitglieds_Nr
+		 *    - Vorname
+		 *    - Nachname
+		 */
+		function Kommentar($data)
+		{
+			$this-&gt;Nr = $data-&gt;Nr;
+			$this-&gt;Text = $data-&gt;Text;
+			$this-&gt;Verfasser_Nr = $data-&gt;Mitglieds_Nr;
+			$this-&gt;Verfasser_Name = $data-&gt;Vorname.&quot; &quot;.$data-&gt;Nachname;
+		}
+		
+		/*! \brief L&#246;scht Kommentar
+		 *
+		 *  L&#246;scht einen Kommentar aus Kommentare mit der Kommentar_Nr
+		 *  $nr.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Kommentar in Kommentare mit Kommentar_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Nummer des zu l&#246;schenden Kommentars
+		 *  \remarks Ist der Nutzer nicht als Administrator angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt, wenn Mitglieds_Nr
+		 *    des Kommentars ungleich der eigenen Mitglieds_Nr ist.
+		 *    Ist der Nutzer nicht angemeldet, werden keine Operationen
+		 *    ausgef&#252;hrt
+		 */
+		function Delete($nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			if ($login-&gt;IsAdministrator() === true)
+			{
+				// Wenn Administratorrechte vorliegen,
+				// L&#246;sche Kommentar mit Kommentar_Nr = $nr
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Kommentare
+						WHERE Kommentar_Nr = '$nr'
+						LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+			}
+			elseif ($login-&gt;IsMember() === true)
+			{
+				// Wenn Mitgliedsrechte vorliegen, l&#246;sche Kommentar mit Kommentar_Nr = $nr
+				// nur wenn Mitglieds_Nr des aktuellen Nutzers
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Kommentare
+						WHERE Kommentar_Nr = '$nr' AND Mitglieds_Nr='&quot;.$login-&gt;Nr.&quot;'
+						LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+			}
+		}
+		
+		/*! \brief L&#246;scht alle zu einer Literatur geh&#246;renden Kommentare
+		 *
+		 *  L&#246;scht alle Kommentare aus Kommentare, die mit Literatur
+		 *  mit der Literaturnummer ($literatur_nr) verbunden sind.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $literatur_nr Nummer der Literatur
+		 *  \remarks Ist Nutzer nicht eingeloggt, werden keine
+		 *    Operationen ausgef&#252;hrt.
+		 */
+		function DeleteAll($literatur_nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Mitglied angemeldet sind
+			if ($login-&gt;IsMember() === true)
+			{
+				// L&#246;sche alle Kommentare zu bestimmten Literatur
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Kommentare
+						WHERE Literatur_Nr = '$literatur_nr'&quot;;
+				$sqldb-&gt;Query($sql);
+			}
+		}
+
+		/*! \brief L&#246;scht alle zu einem Mitglied geh&#246;renden Kommentare
+		 *
+		 *  L&#246;scht alle Kommentare aus Kommentare, die mit Mitglieder
+		 *  mit der Mitglieds_Nr ($member_nr) verbunden sind.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $member_nr Nummer eines Mitglieds
+		 *  \remarks Ist der Nutzer nicht als Administrator eingeloggt,
+		 *    werden keine Operationen ausgef&#252;hrt.
+		 */
+		function DeleteAllMember($member_nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Mitglied angemeldet sind
+			if ($login-&gt;IsAdministrator() === true)
+			{
+				// L&#246;sche alle Kommentare von bestimmten Mitglied
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Kommentare
+						WHERE Mitglieds_Nr = '$member_nr'&quot;;
+				$sqldb-&gt;Query($sql);
+			}
+		}
+
+		/*! \brief Gibt Kommentare zu bestimmter Literatur zur&#252;ck
+		 *
+		 *  Liest alle Kommentare die einer Literatur ($literatur_nr)
+		 *  zugeordnet sind aus Kommentare aus und gibt sie als Feld des
+		 *  Typs Kommentar zur&#252;ck.
+		 *  \param[in] $literatur_nr Nr einer Literatur mit Kommentaren
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \return Feld mit Elementen vom Typ Kommentar
+		 */
+		function GetAll($literatur_nr)
+		{
+			global $db_config, $sqldb;
+
+			// Lese alle Kommentare zu bestimmter Literatur
+			$sql = &quot;SELECT  Kommentar_Nr AS Nr, Kommentartext AS Text, mitglieder.Mitglieds_Nr AS Mitglieds_Nr, Vorname, Name AS Nachname
+					FROM &quot;.$db_config['prefix'].&quot;Kommentare AS kommentare
+					INNER JOIN  &quot;.$db_config['prefix'].&quot;Mitglieder AS mitglieder
+					ON kommentare.Mitglieds_Nr = mitglieder.Mitglieds_Nr
+					WHERE Literatur_Nr = '$literatur_nr'
+					ORDER BY Nr ASC&quot;;
+			$sqldb-&gt;Query($sql);
+
+			// Lese Kommentare aus und erstelle Array aus gefundenen Kommentaren
+			$authors = array();
+			while ($cur = $sqldb-&gt;Fetch())
+			{
+				$authors[] = new Kommentar($cur);
+			}
+			return $authors;
+		}
+		
+		/*! \brief Legt Kommentar an
+		 *
+		 *  Legt einen neuen Kommentar mit Text ($text) zu einer
+		 *  Literatur ($literatur_nr) vom einem Verfasser 
+		 *  ($verfasser_nr) an.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Text ($text) darf nicht leer sein
+		 *  \param[in] $text Text des Kommentars
+		 *  \param[in] $verfasser_nr Mitglieds_Nr des Verfassers
+		 *  \param[in] $literatur_nr Nummer der Literatur
+		 *  \remarks Ist das aktuelle Mitglied kein 
+		 *  Administrator, dann muss $verfasser_nr gleich der aktuellen
+		 *  Nummer des Logins sein. Ist der Nutzer nicht eingeloggt,
+		 *  werden keine Operationen ausgef&#252;hrt. Ist keine passende
+		 *  Literatur mit der Literatur_Nr $literatur_nr vorhanden,
+		 *  wird kein Kommentar angelegt. Existiert schon ein Kommentar
+		 *  zu Literatur mit $literatur_nr von Mitglied mit Mitglieds_Nr
+		 *  $verfasser_nr, wird nur der Text des Kommentars mit
+		 *  Kommentar::Update ge&#228;ndert.
+		 */
+		function Insert($text, $verfasser_nr, $literatur_nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Liegen Administratorrechte vor? Alternativ Mitgliedsrechte
+			// (aber nur, wenn der Verfasser gleich der eingeloggte User ist)
+			if ($login-&gt;IsAdministrator() === true ||
+				($login-&gt;IsMember() === true &amp;&amp; $verfasser_nr == $login-&gt;Nr))
+			{
+				// Suche nach Literatureintrag mit &#252;bergebener Literatur_Nr $literatur_nr
+				$sqlExists = &quot;SELECT Literatur_Nr FROM &quot;.$db_config['prefix'].&quot;Bibliothek
+						WHERE Literatur_Nr='$literatur_nr'&quot;;
+				$sqldb-&gt;Query($sqlExists);
+
+				// Existiert eine Literatur mit $literatur_nr?
+				if ($sqldb-&gt;Fetch() !== false)
+				{
+					// Suche ob schon Kommentar von Mitglied zur Literatur existiert
+					$sqlAlready = &quot;SELECT Kommentar_Nr FROM &quot;.$db_config['prefix'].&quot;Kommentare
+							WHERE Literatur_Nr='$literatur_nr' AND Mitglieds_Nr='$verfasser_nr'&quot;;
+					$sqldb-&gt;Query($sqlAlready);
+
+					$cur = $sqldb-&gt;Fetch();
+					// Existiert noch kein Kommentar zur Literatur von Mitglied?
+					if ($cur === false)
+					{
+						// Wenn ja, f&#252;ge neuen Kommentar hinzu, wenn Text angegeben wurde
+						if (empty($text) === false)
+						{
+							$sql = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Kommentare
+								VALUES (NULL, '$text', '$literatur_nr', '$verfasser_nr')&quot;;
+							$sqldb-&gt;Query($sql);
+						}
+					}
+					else
+					{
+						// Existiert schon ein Kommentar, dann &#228;ndere diesen
+						Kommentar::Update($cur-&gt;Kommentar_Nr, $text);
+					}
+				}
+			}
+		}
+		
+		/*! \brief &#196;ndert einen Kommentar
+		 *
+		 *  &#196;ndert in Kommentare den Text des Kommentars mit $nr
+		 *  in $text.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Kommentar in Kommentare mit Kommentar_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Nummer des zu ver&#228;ndernden Kommentars
+		 *  \param[in] $text neuer Text des Kommentars
+		 *  \remarks Ist das aktuelle Mitglied kein Administrator,
+		 *  dann muss die aktuelle Nummer des Mitglieds gleich der
+		 *  Mitglieds_Nr des Kommentars in Kommentare sein. Ist der
+		 *  Nutzer nicht eingeloggt, werden keine Operationen
+		 *  ausgef&#252;hrt. Wird kein Text ($text) angegeben, wird der
+		 *  Kommentar mit Kommentar::Delete gel&#246;scht.
+		 */
+		function Update($nr, $text)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Wurde kein Text angegeben?
+			if (empty($text) === true)
+			{
+				// Wenn ja, l&#246;sche Kommentar
+				Kommentar::Delete($nr);
+			}
+			else
+			{
+				// Wenn nicht, &#228;ndere Kommentar
+
+				if ($login-&gt;IsAdministrator() === true)
+				{
+					// Wenn Administratorrechte vorliegen,
+					// &#196;ndere Kommentar mit Kommentar_Nr = $nr
+					$sql = &quot;UPDATE &quot;.$db_config['prefix'].&quot;Kommentare
+							SET Kommentartext='$text'
+							WHERE Kommentar_Nr='$nr'
+							LIMIT 1&quot;;
+					$sqldb-&gt;Query($sql);
+				}
+				elseif ($login-&gt;IsMember() === true)
+				{
+					// Wenn Mitgliedsrechte vorliegen, &#228;ndere Kommentar mit Kommentar_Nr = $nr
+					// nur wenn Mitglieds_Nr des aktuellen Nutzers
+					$sql = &quot;UPDATE &quot;.$db_config['prefix'].&quot;Kommentare
+							SET Kommentartext='$text'
+							WHERE Kommentar_Nr='$nr' AND Mitglieds_Nr='&quot;.$login-&gt;Nr.&quot;'
+							LIMIT 1&quot;;
+					$sqldb-&gt;Query($sql);
+				}
+			}
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/literatur.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/literatur.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/literatur.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,431 @@
+&lt;?php
+	require_once(&quot;include/login.php&quot;);
+	require_once(&quot;include/kommentar.php&quot;);
+	require_once(&quot;include/literaturart.php&quot;);
+	require_once(&quot;include/autor.php&quot;);
+
+	/*! \brief Verwaltet Literatur
+	 *
+	 *  Stellt Funktionen zum Abruf, Exportieren, L&#246;schen, Importieren,
+	 *  Hinzuf&#252;gen und &#196;ndern von Literatur in Bibliothek zur Verf&#252;gung.
+	 *  \pre Datenbankverbindung muss bestehen
+	 *  \sa
+	 *  - Autor::Clean
+	 *  - Autor::GetAll
+	 *  - Autor::Split
+	 *  - Kommentar::DeleteAll
+	 *  - Kommentar::GetAll
+	 *  - LiteraturArt::LiteraturArt
+	 *  - LiteraturArt::GetBibTexText
+	 *  - Login::IsMember
+	 *  - SQLDB::Query
+	 *  - SQLDB::Fetch
+	 *  - SQLDB::GetInsertID
+	 *
+	 *  \author Sven Eckelmann
+	 *  \date 06.06.2006
+	 */
+	class Literatur
+	{
+		var $Nr = 0; ///&lt; Literaturidentifikationsnummer
+		var $Titel = &quot;&quot;; ///&lt; Titel der Literatur
+		var $Jahr = 0; ///&lt; Erscheinungsjahr
+		var $Verlag = &quot;&quot;; ///&lt; Verlag/Herausgeber
+		var $ISBN = &quot;&quot;; ///&lt; ISBN der Literatur
+		var $Beschreibung = &quot;&quot;; ///&lt; Bemerkung zur Literatur
+		var $Ort = &quot;&quot;; ///&lt; Herausgabeort
+		var $Stichworte = &quot;&quot;; ///&lt; Stichworte zum Inhalt der Literatur
+		var $Art; ///&lt; Typ der Literatur
+		var $Autoren = array(); ///&lt; Feld mit Autoren der Literatur
+		var $Kommentare = array(); ///&lt; Feld mit Kommentaren der Literatur
+		
+		/*! \brief Liest Literatur ein
+		 *
+		 *  Erstellt aus Literatur in Bibliothek mit Literatur_Nr
+		 *  ($nr) neues Literaturobjekt.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Literatur in Bibliothek mit Literatur_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Nummer der zu einlesenden Literatur
+		 */
+		function Literatur($nr)
+		{
+			global $db_config, $sqldb;
+
+			// Suche Literatur mit Literatur_Nr = $nr heraus
+			$sql = &quot;SELECT Literatur_Nr, Art, Titel, Jahr, Verlag, ISBN, Beschreibung, Ort, Stichworte
+					FROM &quot;.$db_config['prefix'].&quot;Bibliothek
+					WHERE Literatur_Nr='$nr'
+					LIMIT 1&quot;;
+			$sqldb-&gt;Query($sql);
+
+			// Lese gefundene Daten aus
+			if ($cur = $sqldb-&gt;Fetch())
+			{
+				$this-&gt;Nr = $cur-&gt;Literatur_Nr;
+				$this-&gt;Art = new LiteraturArt($cur-&gt;Art);
+				$this-&gt;Titel = $cur-&gt;Titel;
+				$this-&gt;Jahr = $cur-&gt;Jahr;
+				$this-&gt;Verlag = $cur-&gt;Verlag;
+				$this-&gt;ISBN = $cur-&gt;ISBN;
+				$this-&gt;Beschreibung = $cur-&gt;Beschreibung;
+				$this-&gt;Ort = $cur-&gt;Ort;
+				$this-&gt;Stichworte = $cur-&gt;Stichworte;
+				$this-&gt;Autoren = Autor::GetAll($nr);
+				$this-&gt;Kommentare = Kommentar::GetAll($nr);
+			}
+		}
+
+		/*! \brief Exportiert Literatur nach BibTeX
+		 *
+		 *  Exportiert die aktuellen Informationen im Literaturobjekt
+		 *  in das BibTeX-Format.
+		 *  \pre -
+		 *  \return $string mit BibTeX-Eintrag
+		 */
+		function ToBibtex()
+		{
+			$str = &quot;&quot;;
+
+			// Wurde ein LiteraturArt-Objekt angelegt?
+			if (is_object($this-&gt;Art) === true)
+			{
+				// Lege Kopf des BibTeX-Eintrags an
+				$str = &quot;@&quot;.$this-&gt;Art-&gt;GetBibtexText().&quot;{&quot;.$this-&gt;Art-&gt;GetBibtexText().$this-&gt;Nr;
+				
+				// Titel hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;Titel) === false)
+				{
+					$str .= &quot;,\n\ttitle = \&quot;&quot;.addslashes($this-&gt;Titel).&quot;\&quot;&quot;;
+				}
+	
+				// Autoren hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;Autoren) === false)
+				{
+					// Erstelle and-getrennte Liste der Autorennamen
+					$autornamen = array();
+					foreach ($this-&gt;Autoren as $autor)
+					{
+						$autornamen[] = $autor-&gt;Name;
+					}
+
+					$autorlist = implode(&quot; and &quot;, $autornamen);
+					$str .= &quot;,\n\tauthor = \&quot;&quot;.addslashes($autorlist).&quot;\&quot;&quot;;
+				}
+	
+				// Jahr hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;Jahr) === false)
+				{
+					$str .= &quot;,\n\tyear = \&quot;&quot;.addslashes($this-&gt;Jahr).&quot;\&quot;&quot;;
+				}
+	
+				// Verlag hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;Verlag) === false)
+				{
+					$str .= &quot;,\n\tpublisher = \&quot;&quot;.addslashes($this-&gt;Verlag).&quot;\&quot;&quot;;
+				}
+	
+				// ISBN hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;ISBN) === false)
+				{
+					$str .= &quot;,\n\tisbn = \&quot;&quot;.addslashes($this-&gt;ISBN).&quot;\&quot;&quot;;
+				}
+	
+				// Ort hinzuf&#252;gen, wenn vorhanden
+				if (empty($this-&gt;Ort) === false)
+				{
+					$str .= &quot;,\n\taddress = \&quot;&quot;.addslashes($this-&gt;Ort).&quot;\&quot;&quot;;
+				}
+				
+				// Beende BibTeX-Eintrag
+				$str .= &quot;\n}\n&quot;;
+			}
+			return $str;
+		}
+
+		/*! \brief L&#246;scht Literatur
+		 *
+		 *  L&#246;scht Literatur aus Bibliothek mit der Literatur_Nr $nr.
+		 *  Alle verbundenen Kommentare werden aus Kommentare gel&#246;scht.
+		 *  Au&#223;erdem werden alle nun nicht mehr gebrauchten Autoren in
+		 *  Autoren gel&#246;scht.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Literatur in Bibliothek mit Literatur_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Nummer der zu l&#246;schenden Literatur
+		 *  \remarks Ist der Nutzer nicht als Mitglied angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt
+		 */
+		function Delete($nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Mitglied angemeldet sind
+			if ($login-&gt;IsMember() === true)
+			{
+				// L&#246;sche Literatur aus Bibliothek
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Bibliothek
+						WHERE Literatur_Nr = '$nr'
+						LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// Entferne alle Verbindugnen zwischen Literatur und Autoren
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Literatur_Autor
+						WHERE Literatur_Nr = '$nr'&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// L&#246;sche nun alle freigewordenen Autoren
+				Autor::Clean();
+
+				// L&#246;sche alle zur Literatur geh&#246;rdenden Kommentare
+				Kommentar::DeleteAll($nr);
+			}
+		}
+
+		/*! \brief Importiert BibTeX
+		 *
+		 *  Importiert Literatur nach Bibliothek aus einem
+		 *  BibTeX-formatierten String. Alle Eintr&#228;ge werden dazu
+		 *  nacheinandere eingelesen und umgewandelt, um diese dann
+		 *  in die Datenbank zu schreiben.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $bibtex String mit Inhalt einer BibTeX-Datei
+		 *  \return Anzahl der importierten Literatur
+		 */
+		function InsertBibTeX($bibtex)
+		{
+			$allowed_entries = array('book', 'article', 'booklet',
+					'conference', 'inbook', 'incollection', 'inproceedings', 'manual',
+					'mastersthesis', 'misc', 'phdthesis', 'proceedings', 'techreport',
+					'unpublished');
+
+			// Finde alle BibTeX-Eintr&#228;ge
+			// Funktioniert nicht bei Argumenten &#252;ber mehrere Zeilen
+			if (preg_match_all('/@([\w]+[\s]*)\{[\s]*([-\d\w]+)(([\s]*,[\s]*[\w]*[\s]*=[\s]*([\w]+|\{.*\}|&quot;.*&quot;)[\s]*)+)\}/', $bibtex, $regexp_entries) !== false)
+			{
+				$num_entries = sizeof($regexp_entries[0]);
+			}
+			else
+			{
+				$num_entries = 0;
+			}
+
+			$entries = false;
+			
+			// Extrahiere alle Eintr&#228;ge
+			for ($i = 0; $i &lt; $num_entries; $i++)
+			{
+				$cur = new stdClass;
+				$cur-&gt;autoren = &quot;&quot;;
+				$cur-&gt;art = new LiteraturArt(&quot;book&quot;);
+				$cur-&gt;titel = &quot;&quot;;
+				$cur-&gt;jahr = date(&quot;Y&quot;);
+				$cur-&gt;verlag = &quot;&quot;;
+				$cur-&gt;isbn = &quot;&quot;;
+				$cur-&gt;beschreibung = &quot;&quot;;
+				$cur-&gt;ort = &quot;&quot;;
+
+				// Lese Typ vom Eintrag
+				$type = trim($regexp_entries[1][$i]);
+				
+				// Haben wir &#252;berhaupt den Anfang eines Eintrags gefunden?
+				if (in_array($type, $allowed_entries) === false)
+				{
+					continue;
+				}
+				else
+				{
+					$cur-&gt;art = new LiteraturArt($type);
+				}
+				
+
+				// Lese K&#252;rzel
+				$cur-&gt;id = trim($regexp_entries[2][$i]);
+
+				// Extrahiere &quot;Optionen&quot;
+				if (preg_match_all('/(([\w]*)[\s]*=[\s]*([\w]+|\{.*\}|&quot;.*&quot;)[\s]*(,|\}))+/', $regexp_entries[3][$i], $regexp_options) !== false)
+				{
+					// Lese die Optionen des aktuellen BibTeX-Eintrags einzeln
+					$num_options = sizeof($regexp_options[0]);
+					for ($j = 0; $j &lt; $num_options; $j++)
+					{
+						// Name des Arguments der &quot;Option&quot; auslesen und bereinigen
+						$argument = trim($regexp_options[3][$j]);
+
+						if ($argument[0] == &quot;{&quot; &amp;&amp; $argument[strlen($argument)-1] == &quot;}&quot;)
+						{
+							$argument = substr($argument, 1, strlen($argument)-2);
+						}
+						if ($argument[0] == &quot;\&quot;&quot; &amp;&amp; $argument[strlen($argument)-1] == &quot;\&quot;&quot;)
+						{
+							$argument = substr($argument, 1, strlen($argument)-2);
+						}
+
+						// Wei&#223;e Daten der aktuellen Option zu
+						switch (strtolower(trim($regexp_options[2][$j])))
+						{
+						case &quot;title&quot;:
+							$cur-&gt;titel = $argument;
+							break;
+						case &quot;author&quot;:
+							$cur-&gt;autoren = preg_replace(&quot;/ AND /i&quot;, &quot;, &quot;, $argument);
+							break;
+						case &quot;year&quot;:
+							$cur-&gt;jahr = $argument;
+							break;
+						case &quot;publisher&quot;:
+							$cur-&gt;verlag = $argument;
+							break;
+						case &quot;isbn&quot;:
+							$cur-&gt;isbn = $argument;
+							break;
+						case &quot;address&quot;:
+							$cur-&gt;ort = $argument;
+							break;
+						case &quot;note&quot;:
+						case &quot;annote&quot;:
+							$cur-&gt;beschreibung = $argument;
+							break;
+						}
+					}
+				}
+				else
+				{
+					continue;
+				}
+				
+				// Erzeuge array, wenn noch nicht geschehen
+				if ($entries === false)
+				{
+					$entries = array();
+				}
+				$entries[] = $cur;
+			}
+
+
+			$imported = 0;
+			if ($entries !== false &amp;&amp; empty($entries) === false)
+			{
+				// Importiere die einzelnen Eintr&#228;ge in Bibliothek
+				// wenn Titel und Autor vorhanden sind
+				foreach ($entries as $entry)
+				{
+					if (empty($entry-&gt;titel) === false &amp;&amp; empty($entry-&gt;autoren) === false)
+					{
+						$imported++;
+						Literatur::Insert($entry-&gt;autoren, $entry-&gt;art-&gt;GetDisplayText(),
+							$entry-&gt;titel, $entry-&gt;jahr, $entry-&gt;verlag, $entry-&gt;isbn,
+							$entry-&gt;beschreibung, $entry-&gt;ort, &quot;&quot;);
+					}
+				}
+			}
+
+			return $imported;
+		}
+
+		/*! \brief Legt Literatur an
+		 *
+		 *  Legt neue Literatur in Bibliothek mit den &#252;bergebenen
+		 *  Parametern ($art, $titel, $jahr, $verlag, $isbn,
+		 *  $beschreibung, $ort, $stichworte) an. Danach werden die
+		 *  Autoren ($autoren) in Autoren geschrieben und mit der
+		 *  Tabelle Literatur_Autor der Literatur zugeordnet.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $autoren String mit kommagetrennter Liste von Autoren
+		 *  \param[in] $art Bezeichner der Literaturart
+		 *  \param[in] $titel Titel der Literatur
+		 *  \param[in] $jahr Erscheinungsjahr der Literatur
+		 *  \param[in] $verlag Verlag der Literatur
+		 *  \param[in] $isbn ISBN der Literatur
+		 *  \param[in] $beschreibung Beschreibung der Literatur
+		 *  \param[in] $ort Erscheinungsort
+		 *  \param[in] $stichworte Stichworte
+		 *  \remarks Ist der Nutzer nicht als Mitglied angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt
+		 */
+		function Insert($autoren, $art, $titel, $jahr, $verlag, $isbn, $beschreibung, $ort, $stichworte)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Mitglied angemeldet sind
+			if ($login-&gt;IsMember() === true)
+			{
+				// F&#252;ge Literatur in Bibliothek ein
+				$sql = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Bibliothek
+						VALUES (NULL, '$art', '$titel', '$jahr', '$verlag', '$isbn', '$beschreibung', '$ort', '$stichworte')&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// Importiere jeden Autor und f&#252;ge Verbindung zur
+				// zur Literatur in Literatur_Autor an
+				if ($nr = $sqldb-&gt;GetInsertID())
+				{
+					$autorlist = Autor::Split($autoren);
+					foreach ($autorlist as $cur)
+					{
+						$sql = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Literatur_Autor
+							VALUES ('&quot;.$cur.&quot;', '$nr')&quot;;
+						$sqldb-&gt;Query($sql);
+					}
+				}
+			}
+		}
+
+		/*! \brief &#196;ndert Literatur
+		 *
+		 *  Entfernt alle zur Literatur_Nr ($nr) geh&#246;renden
+		 *  Verbindungen in Autor_Literatur um danach die Literatur mit
+		 *  Literatur_Nr $nr zu den neuen Werten ($art, $titel, $jahr,
+		 *  $verlag, $isbn, $beschreibung, $ort, $stichworte) zu &#228;ndern.
+		 *  Danach werden die Autoren ($autoren) in Autoren geschrieben
+		 *  und mit der Tabelle Literatur_Autor der Literatur
+		 *  zugeordnet. Alle jetzt noch nicht zugeordneten Autoren in
+		 *  Autoren werden gel&#246;scht.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Literatur in Bibliothek mit Literatur_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Nummer der zu ver&#228;ndernden Literatur
+		 *  \param[in] $autoren String mit kommagetrennter Liste von Autoren
+		 *  \param[in] $art neuer Bezeichner der Literaturart
+		 *  \param[in] $titel neuer Titel der Literatur
+		 *  \param[in] $jahr neues Erscheinungsjahr der Literatur
+		 *  \param[in] $verlag neuer Verlag der Literatur
+		 *  \param[in] $isbn neue ISBN der Literatur
+		 *  \param[in] $beschreibung neue Beschreibung der Literatur
+		 *  \param[in] $ort neuer Erscheinungsort
+		 *  \param[in] $stichworte neue Stichworte
+		 *  \remarks Ist der Nutzer nicht als Mitglied angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt
+		 */
+		function Update($nr, $autoren, $art, $titel, $jahr, $verlag, $isbn, $beschreibung, $ort, $stichworte)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Mitglied angemeldet sind
+			if ($login-&gt;IsMember() === true)
+			{
+				// L&#246;sche jede Verbindung zu Autoren in Literatur_Autor mit aktueller Literatur
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Literatur_Autor
+						WHERE Literatur_Nr='$nr'&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// &#196;ndere aktuellen Literatureintrag
+				$sql = &quot;UPDATE &quot;.$db_config['prefix'].&quot;Bibliothek
+							SET Art='$art', Titel='$titel', Jahr='$jahr', Verlag='$verlag', ISBN='$isbn', Beschreibung='$beschreibung', Ort='$ort', Stichworte='$stichworte'
+							WHERE Literatur_Nr='$nr'
+							LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// F&#252;ge neue Autoren hinzu und verbinde sie mit Literatur durch Literatur_Autor
+				$autorlist = Autor::Split($autoren);
+				foreach ($autorlist as $cur)
+				{
+					$sql = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Literatur_Autor
+						VALUES ('&quot;.$cur.&quot;', '$nr')&quot;;
+					$sqldb-&gt;Query($sql);
+				}
+
+				Autor::Clean();
+			}
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/literaturart.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/literaturart.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/literaturart.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,198 @@
+&lt;?php
+	/*! \brief Verwaltet Literaturarten
+	 *
+	 *  Verwaltet die aus der Datenbank oder BibTeX-Datei erhaltenen
+	 *  Informationen zur Art einer Literatur. Enthaltene Informationen
+	 *  k&#246;nnen wieder als BibTeX- oder als der in Datenbank/Benutzeroberfl&#228;che
+	 *  verwendeten Namen zur&#252;ckgegeben werden.
+	 *  \pre -
+	 *
+	 *  \author Frank Wilhelm
+	 *  \date 30.05.2006
+	 */
+	class LiteraturArt
+	{
+		/*! Typ des Buches
+		 *   - 1 Buch
+		 *   - 2 Artikel
+		 *   - 3 Brosch&#252;re
+		 *   - 4 Protokoll
+		 *   - 5 Anleitung
+		 *   - 6 Diplomarbeit
+		 *   - 7 Dissertation
+		 *   - 8 Techn. Bericht
+		 *   - 9 Unver&#246;ffentlicht
+		 *   - sonst Sonstiges
+		 *  \private
+		 */
+		var $value = 0;
+		
+		/*! \brief Importiert BibTeX- bzw. interne Namen
+		 *
+		 *  Importiert die in BibTeX-Dateien oder in der
+		 *  Datenbank/Benutzeroberfl&#228;chen verwendeten Bezeichner f&#252;r
+		 *  Literaturarten und weist sie einen internen Wert zu.
+		 *  \pre -
+		 *  \param[in] $text BibTeX oder interner Bezeichner einer Literaturart
+		 *  \remarks Ist der Bezeichner unbekannt, erh&#228;lt die Literatur
+		 *    die Art &quot;Sonstiges&quot;
+		 */
+		function LiteraturArt($text)
+		{
+			// Suche Zahlenrepr&#228;sentation des &#252;bergebenen Texts heraus
+			switch ($text)
+			{
+			case &quot;book&quot;:
+			case &quot;inbook&quot;:
+			case &quot;Buch&quot;:
+				$this-&gt;value = 1;
+				break;
+
+			case &quot;Artikel&quot;:
+			case &quot;article&quot;:
+				$this-&gt;value = 2;
+				break;
+
+			case &quot;Brosch&#252;re&quot;:
+			case &quot;booklet&quot;:
+				$this-&gt;value = 3;
+				break;
+		
+			case &quot;Protokoll&quot;:
+			case &quot;proceedings&quot;:
+			case &quot;inproceedings&quot;:
+			case &quot;conference&quot;:
+				$this-&gt;value = 4;
+				break;
+
+			case &quot;Anleitung&quot;:
+			case &quot;manual&quot;:
+				$this-&gt;value = 5;
+				break;
+
+			case &quot;Diplomarbeit&quot;:
+			case &quot;masterthesis&quot;:
+				$this-&gt;value = 6;
+				break;
+
+			case &quot;Dissertation&quot;:
+			case &quot;phdthesis&quot;:
+				$this-&gt;value = 7;
+				break;
+
+			case &quot;Techn. Bericht&quot;:
+			case &quot;techreport&quot;:
+				$this-&gt;value = 8;
+				break;
+
+			case &quot;Unver&#246;ffentlicht&quot;:
+			case &quot;unpublished&quot;:
+				$this-&gt;value = 9;
+				break;
+
+			default:
+			case &quot;Sonstiges&quot;:
+			case &quot;misc&quot;:
+				$this-&gt;value = 0;
+			};
+		}
+		
+		/*! \brief Liefert Bezeichner f&#252;r Datenbank/Benutzeroberfl&#228;che
+		 *
+		 *  Je nach der bei der Erstellung des Objekts gew&#228;hlten Art,
+		 *  wird der dazugeh&#246;rige Bezeichner f&#252;r die Literaturart
+		 *  in der Datenbank/Benutzeroberfl&#228;che herausgesucht.
+		 *  \pre -
+		 *  \return String mit Bezeichner der Literaturart in
+		 *    Datenbank/Benutzeroberfl&#228;chendarstellung
+		 *  \remarks Sollte der Wert der Literatur nicht bekannt sein
+		 *    wird &quot;Sonstiges&quot; zur&#252;ckgegeben
+		 */
+		function GetDisplayText()
+		{
+			// Suche Datenbank-/Benutzeroberfl&#228;chetext herau
+			switch ($this-&gt;value)
+			{
+			case 1:
+				return &quot;Buch&quot;;
+
+			case 2:
+				return &quot;Artikel&quot;;
+
+			case 3:
+				return &quot;Brosch&#252;re&quot;;
+		
+			case 4:
+				return &quot;Protokoll&quot;;
+
+			case 5:
+				return &quot;Anleitung&quot;;
+
+			case 6:
+				return &quot;Diplomarbeit&quot;;
+
+			case 7:
+				return &quot;Dissertation&quot;;
+
+			case 8:
+				return &quot;Techn. Bericht&quot;;
+
+			case 9:
+				return &quot;Unver&#246;ffentlicht&quot;;
+
+			default:
+			case 0:
+				return &quot;Sonstiges&quot;;
+			};
+		}
+		
+		/*! \brief Liefert Bezeichner f&#252;r BibTeX
+		 *
+		 *  Je nach der bei der Erstellung des Objekts gew&#228;hlten Art,
+		 *  wird der dazugeh&#246;rige Bezeichner f&#252;r die Literaturart
+		 *  in BibTeX herausgesucht.
+		 *  \pre -
+		 *  \return String mit Bezeichner der Literaturart in
+		 *    BibTeX-Darstellung
+		 *  \remarks Sollte der Wert der Literatur nicht bekannt sein
+		 *    wird &quot;Sonstiges&quot; zur&#252;ckgegeben
+		 */
+		function GetBibtexText()
+		{
+			// Suche BibTeX-Text heraus
+			switch ($this-&gt;value)
+			{
+			case 1:
+				return &quot;book&quot;;
+
+			case 2:
+				return &quot;article&quot;;
+
+			case 3:
+				return &quot;booklet&quot;;
+		
+			case 4:
+				return &quot;proceedings&quot;;
+
+			case 5:
+				return &quot;manual&quot;;
+
+			case 6:
+				return &quot;masterthesis&quot;;
+
+			case 7:
+				return &quot;phdthesis&quot;;
+
+			case 8:
+				return &quot;techreport&quot;;
+
+			case 9:
+				return &quot;unpublished&quot;;
+
+			default:
+			case 0:
+				return &quot;misc&quot;;
+			};
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/login.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/login.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/login.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,189 @@
+&lt;?php
+	require_once(&quot;include/mitglied.php&quot;);
+
+	/*! \brief Verwaltet Logininformationen
+	 *
+	 *  Verwaltet die aus der sich aktuellen Anmeldung ergebenen Session
+	 *  des Users und der damit entstehenden Rechte
+	 *  \pre Das Loginobjekt muss vor einer &#220;bertragung von Inhaltsdaten zum 
+	 *    User angelegt werden, um ein Cookie anlegen zu k&#246;nnen.
+	 *  \pre Es sollte kein zweites Objekt vom Typ Login existieren.
+	 *  \pre Datenbankverbindung muss bestehen.
+	 *  \remarks Sollte ein weiteres Objekt vom Typ Login existieren, in
+	 *    welche neue Logininformationen eingetragen werden, wird keine
+	 *    weitere Session angelegt, sondern die alten Informationen in
+	 *    der aktuellen Session &#252;berschrieben.
+	 *  \sa
+	 *  - Mitglied::PasswordHash
+	 *  - SQLDB::Query
+	 *  - SQLDB::Fetch
+	 *
+	 *  \author Frank Wilhelm
+	 *  \date 30.05.2006
+	 */
+	class Login
+	{
+		/*! Level des aktuellen Nutzers
+		 *   - &gt;=1 Mitglied
+		 *   - &gt;=2 Administrator
+		 *   - &gt;=0 Nutzer
+		 *  \private
+		 */
+		var $Level = 0;
+		var $Nr = 0; ///&lt; Mitglieds_Nr f&#252;r angemeldetes Mitglied (sonst 0)
+		
+		/*! \brief Liest bzw. Erstellt Session f&#252;r Anmeldedaten
+		 *
+		 *  Liest Daten aus der Session ein. Sollten keine vorhanden
+		 *  sein, dann wird eine neue, leere Session angelegt. Sollten
+		 *  Daten vorhanden sein, wird die Korrektheit &#252;ber die
+		 *  Datenbank (Mitglieder) und die Verbindungsinformationen
+		 *  gepr&#252;ft. Nach dieser Pr&#252;fung werden abh&#228;ngig vom Ausgang
+		 *  die Rechteinformationen gesetzt.\n
+		 *  Werden keine Parameter &#252;bergeben, wird das Klartextpasswort
+		 *  mit Mitglied::PasswordHash gehasht, um diese mit
+		 *  Benutzernamen ($benutzer) gegen die Eintr&#228;ge in Mitglieder
+		 *  zu pr&#252;fen. Ist diese erfolgreich, wird eine neue Session
+		 *  mit gehashtem Passwort, Benutzernamen und
+		 *  Verbindungsinformationen erstellt. Sollte ein Fehler 
+		 *  bei der Anmeldung auftreten, erh&#228;lt er Nutzerrechte
+		 *  (wird also nicht zum Mitglied). Sonst erh&#228;lt er die Rechte
+		 *  und Mitglieds_Nr aus dem gefundenem Eintrag in Mitglieder.
+		 *  \param[in] $benutzer neuer Benutzername
+		 *  \param[in] $passwort Passwort in Klartext des Nutzers
+		 *  \pre Eine Verbindung zur Datenbank muss bestehen.
+		 *  \pre Der Konstruktor muss vor dem Senden von Inhaltsdaten
+		 *    aufgerufen werden, um ein Cookie erstellen zu k&#246;nnen.
+		 *  \pre Zum Einloggen mit Daten darf kein Parameter leer sein
+		 */
+		function Login($benutzer = &quot;&quot;, $passwort = &quot;&quot;)
+		{
+			global $db_config, $sqldb;
+
+			@session_start();
+
+			$this-&gt;Level = 0;
+			$this-&gt;Nr = 0;
+
+			// Neue Session starten?
+			if (empty($benutzer) === false &amp;&amp; empty($passwort) === false)
+			{
+				session_register(&quot;login_benutzer&quot;);
+				session_register(&quot;login_passwort&quot;);
+				session_register(&quot;ip&quot;);
+
+				$_SESSION[&quot;login_benutzer&quot;] = $benutzer;
+				$_SESSION[&quot;login_passwort&quot;] = Mitglied::PasswordHash($passwort);
+				$_SESSION[&quot;ip&quot;] = $_SERVER['REMOTE_ADDR'];
+				
+			}
+
+			// Korrekt eingeloggt?
+			if (isset($_SESSION[&quot;ip&quot;]) &amp;&amp; $_SESSION[&quot;ip&quot;] == $_SERVER['REMOTE_ADDR'] &amp;&amp;
+				!empty($_SESSION[&quot;login_benutzer&quot;]) &amp;&amp; !empty($_SESSION[&quot;login_passwort&quot;]))
+			{
+				// Hole, Nr, Passwort und Rechte zu Loginnamen
+				$sql = &quot;SELECT Mitglieds_Nr AS Nr, Passwort AS passwort, Rechte
+					FROM &quot;.$db_config['prefix'].&quot;Mitglieder AS members
+					WHERE members.Login = '&quot;.$_SESSION[&quot;login_benutzer&quot;].&quot;'
+					LIMIT 1&quot;;
+			
+				$sqldb-&gt;Query($sql);
+
+				// Existiert das Mitglied?
+				if ($line = $sqldb-&gt;Fetch())
+				{
+					// Hat er das richtige Passwort?
+					if ($line-&gt;passwort === $_SESSION[&quot;login_passwort&quot;])
+					{
+						$this-&gt;Nr = $line-&gt;Nr;
+
+						// Setze Benuterrechte nach Rechtename
+						switch ($line-&gt;Rechte)
+						{
+						case &quot;Administrator&quot;:
+							$this-&gt;Level = 2;
+							break;
+						case &quot;Benutzer&quot;:
+							$this-&gt;Level = 1;
+							break;
+						default:
+							$this-&gt;Level = 0;
+						}
+					}
+					else
+					{
+						// Falsche Passwort
+						$this-&gt;Logout();
+					}
+				}
+				else
+				{
+					// Benutzername nicht gefunden
+					$this-&gt;Logout();
+				}
+			}
+		}
+
+		/*! \brief Entfernt Session
+		 *
+		 *  Die Anmeldedaten und Verbindungsdaten werden in der
+		 *  Session entfernt. Au&#223;erdem werden die Rechte auf Nutzer (0)
+		 *  und Nr auf 0 gesetzt.
+		 *  \pre -
+		 */
+		function Logout()
+		{
+			// Entferne Session und die Informationen zu dieser
+			session_unset();
+			session_destroy();
+			$this-&gt;Level = 0;
+			$this-&gt;Nr = 0;
+		}
+
+		/*! \brief Ermittelt ob Administratorrechte vorliegen
+		 *
+		 *  Vergleicht ob die bei der Erstellung des Loginobjekts
+		 *  ermittelten Rechte mindestens den Wert f&#252;r
+		 *  Administratorrechte (&gt;=2) haben.
+		 *  \pre -
+		 *  \retval true wenn Administratorrechte vorliegen
+		 *  \retval false wenn Nutzer- oder Mitgliedsrechte vorliegen
+		 */
+		function IsAdministrator()
+		{
+			if ($this-&gt;Level &gt;= 2)
+			{
+				return true;
+			}
+			else
+			{
+				return false;
+			}
+		}
+
+		/*! \brief Ermittelt ob mindestens Mitgliedsrechte vorliegen
+		 *
+		 *  Vergleicht ob die bei der Erstellung des Loginobjekts
+		 *  ermittelten Rechte mindestens den Wert f&#252;r
+		 *  Mitgliedsrechte (&gt;=1) haben.
+		 *  \pre -
+		 *  \retval true wenn mindestens Mitgliedsrechte vorliegen
+		 *  \retval false wenn Nutzerrechte vorliegen
+		 */
+		function IsMember()
+		{
+			if ($this-&gt;Level &gt;= 1)
+			{
+				return true;
+			}
+			else
+			{
+				return false;
+			}
+		}
+	}
+
+	// Globales Loginobjekt erstellen
+	$login = new Login();
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/mitglied.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/mitglied.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/mitglied.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,302 @@
+&lt;?php
+	require_once(&quot;include/login.php&quot;);
+	require_once(&quot;include/kommentar.php&quot;);
+
+	/*! \brief Verwaltet Mitglieder
+	 *
+	 *  Stellt Funktionen zum Entfernen, Hinzuf&#252;gen, &#196;ndern und Auflisten
+	 *  von Mitgliedern bereit.
+	 *  \pre Datenbankverbindung muss bestehen
+	 *  \sa
+	 *  - Kommentar::DeleteAllMember
+	 *  - Login::IsAdministrator
+	 *  - Login::IsMember
+	 *  - SQLDB::Query
+	 *  - SQLDB::Fetch
+	 *
+	 *  \author Sven Eckelmann
+	 *  \date 30.05.2006
+	 */
+	class Mitglied
+	{
+		var $Nr = 0; ///&lt; Identifikationsnummer des Mitglieds
+		var $Login = &quot;&quot;; ///&lt; Benutzername des Mitglieds
+		var $Passwort = &quot;&quot;; ///&lt; Passworthash des Benutzerpassworts
+		var $Rechte = 0; ///&lt; Rechte des Mitglieds (0 - Gast, 1 - Mitglied, 2 - Administrator)
+		var $Vorname = &quot;&quot;; ///&lt; Vorname des Mitglieds
+		var $Nachname = &quot;&quot;; ///&lt; Nachname des Mitglieds
+		var $Email = &quot;&quot;; ///&lt; E-Mail-Adresse des Mitglieds
+		
+		/*! \brief Liest Mitglied ein
+		 *
+		 *  Liest Mitglied mit Mitglied_Nr ($nr)
+		 *  und setzt Felder entsprechend den Daten.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $nr Nummer der zu einlesenden Literatur
+		 */
+		function Mitglied($nr)
+		{
+			global $db_config, $sqldb;
+			
+			// Suche Mitglied mit Mitglied_Nr = $nr heraus
+			$sql = &quot;SELECT Mitglieds_Nr, Login, Passwort, Rechte, Vorname, Name, Email
+					FROM &quot;.$db_config['prefix'].&quot;Mitglieder
+					WHERE Mitglieds_Nr='$nr'
+					LIMIT 1&quot;;
+			$sqldb-&gt;Query($sql);
+			
+			// Lese gefundene Daten aus
+			if ($cur = $sqldb-&gt;Fetch())
+			{
+				$this-&gt;Nr = $cur-&gt;Mitglieds_Nr;
+				$this-&gt;Login = $cur-&gt;Login;
+				$this-&gt;Passwort = $cur-&gt;Passwort;
+				$this-&gt;Vorname = $cur-&gt;Vorname;
+				$this-&gt;Nachname = $cur-&gt;Name;
+				$this-&gt;Email = $cur-&gt;Email;
+
+				// Wandle Rechtebezeichner in numerische Repr&#228;sentation um
+				switch ($cur-&gt;Rechte)
+				{
+				case &quot;Administrator&quot;:
+					$this-&gt;Rechte = 2;
+					break;
+				case &quot;Benutzer&quot;:
+					$this-&gt;Rechte = 1;
+					break;
+				default:
+					$this-&gt;Rechte = 0;
+				}
+			}
+		}
+		
+		/*! \brief Generiert Passworthash
+		 *
+		 *  Aus &#252;bergebenes Klartextpasswort wird ein 40 Byte gro&#223;er
+		 *  hexkodierter Hash generiert. Als Hashingalgorithmus wird
+		 *  SHA-1 genutzt
+		 *  \pre -
+		 *  \param[in] $pass zu hashendes Klartextpasswort
+		 */
+		function PasswordHash($pass)
+		{
+			return sha1($pass);
+		}
+		
+		/*! \brief Entfernt Mitglied
+		 *
+		 *  Entfernt Mitglied mit Mitgliedsnummer ($nr) aus Mitglieder
+		 *  und l&#246;scht zus&#228;tzlich die Kommentare des Mitglieds in
+		 *  Kommentare
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Mitglied in Mitglieder mit Mitglieds_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Mitglieds_Nr des zu l&#246;schenden Mitglieds
+		 *  \remarks Ist der Nutzer nicht als Administrator angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt
+		 */
+		function Delete($nr)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Administrator angemeldet sind
+			if ($login-&gt;IsAdministrator() === true)
+			{
+				// Entferne Mitglied mit Mitglieds_Nr $nr aus Mitglieder
+				$sql = &quot;DELETE FROM &quot;.$db_config['prefix'].&quot;Mitglieder
+						WHERE Mitglieds_Nr = '$nr'
+						LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+
+				// L&#246;scht alle zu Mitglied geh&#246;renden Kommentare
+				Kommentar::DeleteAllMember($nr);
+			}
+		}
+		
+		/*! \brief Legt  Mitglied an
+		 *
+		 *  F&#252;gt neues Mitglied mit Benutzernamen ($loginname), Passwort
+		 *  ($passwort), Benutzerrechten ($rechte), Vorname ($vorname),
+		 *  Nachname ($nachname), E-Mail-Adresse ($email) in Mitglieder
+		 *  ein. Dazu wird das Passwort noch mit Mitglied::PasswordHash
+		 *  gehasht. Sollte ein Mitglied mit gleichem Login existieren
+		 *  wird ein Fehler zur&#252;ckgegeben, da die Datenbank nur ein
+		 *  Mitglied mit gleichem Login erlaubt.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $loginname Benutzername des neuen Mitglieds
+		 *  \param[in] $passwort Benutzerpasswort des neuen Mitglieds
+		 *  \param[in] $rechte Rechte des neuen Mitglieds
+		 *     (Benutzer, Administrator)
+		 *  \param[in] $vorname Vorname des neuen Mitglieds
+		 *  \param[in] $nachname Nachname des neuen Mitglieds
+		 *  \param[in] $email E-Mail-Adresse des neuen Mitglieds
+		 *  \retval true Mitglied wurde eingef&#252;gt
+		 *  \retval false Mitglied konnte nicht hinzugef&#252;gt werden
+		 *  \remarks Ist der Nutzer nicht als Administrator angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt.
+		 */
+		function Insert($loginname, $passwort, $rechte, $vorname, $nachname, $email)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Administrator angemeldet sind
+			if ($login-&gt;IsAdministrator() === true)
+			{
+				// Erzeuge Passworthash
+				$passworthash = Mitglied::PasswordHash($passwort);
+
+				// F&#252;ge neues Mitglied hinzu
+				$sql = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Mitglieder
+						VALUES (NULL, '$nachname', '$vorname', '$email', '$loginname', '$passworthash', '$rechte')&quot;;
+				if ($sqldb-&gt;Query($sql) !== false)
+				{
+					return true;
+				}
+				else
+				{
+					return false;
+				}
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief &#196;ndert ein Mitglied
+		 *
+		 *  &#196;ndert die Daten des Mitglieds mit der Mitglieds_Nr ($nr),
+		 *  in neuen Benutzernamen ($loginname), Passwort ($passwort),
+		 *  Benutzerrechten ($rechte), Vorname ($vorname),
+		 *  Nachname ($nachname), E-Mail-Adresse ($email) in
+		 *  Mitglieder. Wenn $passwort nicht die L&#228;nge 0 hat, wird es 
+		 *  noch mit Mitglied::PasswortHash gehasht. Andernfalls wird
+		 *  das alte Passwort in Mitglieder beibehalten. Sollte ein
+		 *  Mitglied mit gleichem Login existieren wird ein Fehler
+		 *  zur&#252;ckgegeben, da die Datenbank nur ein Mitglied mit
+		 *  gleichem Login erlaubt.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre Mitglied in Mitglieder mit Mitglieds_Nr $nr muss
+		 *    existieren
+		 *  \param[in] $nr Mitglieds_Nr des zu ver&#228;ndernden Mitglieds
+		 *  \param[in] $loginname neuer Benutzername des Mitglieds
+		 *  \param[in] $passwort neues Passwort des Mitglieds
+		 *  \param[in] $rechte neuen Rechte des Mitglieds
+		 *    (Benutzer, Administrator)
+		 *  \param[in] $vorname neuer Vorname des Mitglieds
+		 *  \param[in] $nachname neuer Nachname des Mitglieds
+		 *  \param[in] $email neue E-Mail-Adresse des Mitglieds
+		 *  \retval true Mitglied wurde ge&#228;ndert
+		 *  \retval false Mitglied konnte nicht ge&#228;ndert werden
+		 *  \remarks Ist der Nutzer nicht als Administrator angemeldet,
+		 *    werden keine Operationen ausgef&#252;hrt, wenn $nr ungleich
+		 *    der eigenen Mitglieds_Nr is.
+		 */
+		function Update($nr, $loginname, $passwort, $rechte, $vorname, $nachname, $email)
+		{
+			global $db_config, $sqldb, $login;
+
+			// Nur wenn wir als Administrator angemeldet sind
+			if ($login-&gt;IsAdministrator() === true || $nr == $login-&gt;Nr)
+			{
+				// Erlaube nicht, dass einfache Mitglieder ihre
+				// Rechte erh&#246;hen
+				if ($login-&gt;IsAdministrator() === false)
+				{
+					$rechte = &quot;Benutzer&quot;;
+				}
+
+				$sql = &quot;&quot;;
+				// Wurde neues Passwort angegeben?
+				if (empty($passwort) === true)
+				{
+					// wenn nicht, aktualisiere nur die anderen Daten
+					$sql = &quot;UPDATE &quot;.$db_config['prefix'].&quot;Mitglieder
+							SET Login='$loginname', Rechte='$rechte', Vorname='$vorname', Name='$nachname', Email='$email'
+							WHERE Mitglieds_Nr='$nr'
+							LIMIT 1&quot;;
+				}
+				else
+				{
+					// wenn ja, erzeuge neuen Hash und aktualisiere
+					// ihn mit den anderen Daten
+					$passworthash = Mitglied::PasswordHash($passwort);
+					$sql = &quot;UPDATE &quot;.$db_config['prefix'].&quot;Mitglieder
+							SET Login='$loginname', Passwort='$passworthash', Rechte='$rechte', Vorname='$vorname', Name='$nachname', Email='$email'
+							WHERE Mitglieds_Nr='$nr'
+							LIMIT 1&quot;;
+				}
+
+				// &#196;ndere Daten des Mitglieds
+				if ($sqldb-&gt;Query($sql) !== false)
+				{
+					return true;
+				}
+				else
+				{
+					return false;
+				}
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief R&#252;ckgabe einer Liste der Mitglieder
+		 *
+		 *  Liest alle Mitglieder mit Nr, Login, Vorname, Nachname und
+		 *  Email aus Tabelle Mitglieder und gibt die ausgelesenen
+		 *  Objekte in einem Feld zur&#252;ck
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \return Feld mit Objekten der Form
+		 *    - Nr
+		 *    - Login
+		 *    - Vorname
+		 *    - Nachname
+		 *    - Email
+		 *  \remarks Ist der Nutzer nicht als Administrator, sondern
+		 *    als Mitglied angemeldet, wird nur der eigene Eintrag
+		 *    zur&#252;ckgegeben. Ist der Nutzer nicht angemeldet werden
+		 *    keine Operationen ausgef&#252;hrt.
+		 */
+		function GetAll()
+		{
+			global $db_config, $sqldb, $login;
+
+			$members = array();
+
+			// Wenn wir als Administrator angemeldet sind
+			if ($login-&gt;IsAdministrator() === true)
+			{
+				// Suche alle Mitglieder
+				$sql = &quot;SELECT Mitglieds_Nr AS Nr, Login, Vorname, Name AS Nachname, Email
+						FROM &quot;.$db_config['prefix'].&quot;Mitglieder&quot;;
+				$sqldb-&gt;Query($sql);
+				
+				// Lese Mitglieder aus
+				while ($cur = $sqldb-&gt;Fetch())
+				{
+					$members[] = $cur;
+				}
+			}
+			elseif ($login-&gt;IsMember() === true)
+			{
+				// Suche eigene Daten in Mitglied
+				$sql = &quot;SELECT Mitglieds_Nr AS Nr, Login, Vorname, Name AS Nachname, Email
+						FROM &quot;.$db_config['prefix'].&quot;Mitglieder
+						WHERE Mitglieds_Nr='&quot;.$login-&gt;Nr.&quot;'
+						LIMIT 1&quot;;
+				$sqldb-&gt;Query($sql);
+				
+				// Lese Mitglied aus
+				if ($cur = $sqldb-&gt;Fetch())
+				{
+					$members[] = $cur;
+				}
+			}
+
+			return $members;
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/sqldb.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/sqldb.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/sqldb.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,17 @@
+&lt;?php
+	// W&#228;hle Datenbanksystem aus
+	switch ($db_config['dbms'])
+	{
+		default:
+		case &quot;mysql&quot;:
+			require_once(&quot;include/sqldb_mysql.php&quot;);
+			break;
+	}
+	
+	// Verbinde mit Datenbank
+	$sqldb = new SQLDB($db_config[&quot;host&quot;], $db_config[&quot;user&quot;], $db_config[&quot;pass&quot;], $db_config[&quot;name&quot;]);
+	
+	// Gib Fehler aus und breche ab, wenn keine Verbindung zum SQL-Server besteht
+	if ($sqldb-&gt;db_id === false)
+		die(mysql_error().&quot;. Could not connect to SQL server. Please inform Webmaster&quot;);;
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/sqldb_mysql.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/sqldb_mysql.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/sqldb_mysql.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,276 @@
+&lt;?php
+	define(&quot;SQLDB&quot;, &quot;mysql&quot;);
+
+	/*! \brief Datenbankzugriff &#252;ber MySQL
+	 *
+	 *  Erlaubt den abstrahierten Zugriff &#252;ber SQL auf eine
+	 *  Datenbank (hier MySQL).
+	 *  \pre -
+	 *
+	 *  \author Sven Eckelmann
+	 *  \date 06.06.2006
+	 */
+	class SQLDB
+	{
+		var $db_id = false; ///&lt; Identifikation der aktuellen Datenbankverbindung
+		var $query_result = false; ///&lt; Identifikation der letzten Datenbankabfrage
+		
+
+		/*! \brief &#214;ffnet eine Datenbankverbindung
+		 *
+		 *  Startet eine Verbindung zum Datenbanksystem, je nach
+		 *  gew&#228;hlter Art ($persist), und w&#228;hlt nach erfolgreichem
+		 *  Aufbau eine Datenbank. Treten Fehler beim Aufbau auf, wird
+		 *  SQLDB::$db_id auf false gesetzt.
+		 *  \pre -
+		 *  \param[in] $host Adresse oder IP des MySQL-Servers
+		 *  \param[in] $user Benutzernamen f&#252;r MySQL-Zugriff
+		 *  \param[in] $password Benutzerpasswort f&#252;r MySQL-Zugriff
+		 *  \param[in] $database Auszuw&#228;hlende Datenbank
+		 *  \param[in] $persist Aufbau einer persistenten (geteilten) Verbindung
+		 */
+		function SQLDB($host, $user, $password, $database, $persist = true)
+		{
+			if ($persist == true)
+			{
+				$this-&gt;db_id = @mysql_pconnect($host, $user, $password);
+			}
+			else
+			{
+				$this-&gt;db_id = @mysql_connect($host, $user, $password);
+			}
+			
+			if ($this-&gt;db_id !== false)
+			{
+				if (@mysql_select_db($database, $this-&gt;db_id) === false)
+				{
+					// Verbindung aufgebaut und Datenbank nicht ausgew&#228;hlt
+					@mysql_close($this-&gt;db_id);
+					$this-&gt;db_id = false;
+				}
+			}
+			else
+			{
+				// Verbindungsaufbau funktionierte nicht
+				$this-&gt;db_id = false;
+			}
+		}
+		
+		/*! \brief Beendet Verbindung
+		 *
+		 *  Beendet die Verbindung zum Datenbankserver, wenn eine nicht
+		 *  persistende Verbindung besteht.
+		 *  \pre -
+		 *  \retval true bei Erfolg
+		 *  \retval false bei Misserfolg
+		 *  \remarks Persistente Verbindungen werden nicht geschlossen
+		 */
+		function Close()
+		{
+			if ($this-&gt;db_id !== false)
+			{
+				// Wenn Datenbankverbindung besteht,
+				// gebe Resourcen frei und schlie&#223;e Verbindung
+				$this-&gt;FreeResult();
+				$dbid = $this-&gt;db_id;
+				$this-&gt;db_id = false;
+				return @mysql_close($dbid);
+			}
+			else
+			{
+				// keine Verbindung endet immer im geschlossenem
+				// Zustand
+				return true;
+			}
+		}
+		
+		/*! \brief Springt auf Datensatz
+		 *
+		 *  L&#228;sst den internen Zeiger auf angegebenen Datensatz der
+		 *  letzten Anfrage zeigen. Der Datensatz l&#228;sst sich danach mit
+		 *  Fetch abfragen.
+		 *  \pre Datenbankverbindung muss mit einer Abfrage bestehen
+		 *  \retval true bei Erfolg
+		 *  \retval false bei Misserfolg
+		 */
+		function DataSeek($row_number)
+		{
+			if ($this-&gt;db_id !== false &amp;&amp; $this-&gt;query_result !== false)
+			{
+				// Wenn Datenbankverbindung und Ergebnis eines Querys
+				// besteht, bewege Zeiger auf angegebenes Ergebnis
+				return @mysql_data_seek($this-&gt;query_result, $row_number);
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief Liefert Datensatz als Objekt
+		 *
+		 *  Wandelt aktuellen Datensatz in Objekt um und gibt ihn
+		 *  zur&#252;ck. Nach erfolgreicher Operation wird der
+		 *  interne Zeiger eine Stelle weiter ger&#252;ckt.
+		 *  \pre Datenbankverbindung muss mit einer Abfrage bestehen
+		 *  \return bei Erfolg Datensatz als Objekt
+		 *  \retval false bei Misserfolg
+		 */
+		function Fetch()
+		{
+			if ($this-&gt;db_id !== false &amp;&amp; $this-&gt;query_result !== false)
+			{
+				// Wenn Datenbankverbindung und Ergebnis eines Querys
+				// besteht, gebe aktuelles Ergebnis zur&#252;ck
+				return @mysql_fetch_object($this-&gt;query_result);
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief Entfernt Ergebnisse
+		 *
+		 *  Entfernt Datens&#228;tze der letzten Anfrage und gibt deren
+		 *  Speicher frei.
+		 *  \pre -
+		 *  \remarks Funktion wird vor jedem Query() aufgerufen
+		 */
+		function FreeResult()
+		{
+			if ($this-&gt;query_result !== false)
+			{
+				// Wenn rgebnis eines Querys existiert, gebe
+				// es frei
+				$queryresult = $this-&gt;query_result;
+				$this-&gt;query_result = false;
+				return @mysql_free_result($queryresult);
+			}
+			else
+			{
+				// keine Resultate enden immer mit leeren
+				// Resultaten
+				return true;
+			}
+		}
+		
+		/*! \brief Anzahl zuletzt ge&#228;nderter Datens&#228;tze
+		 *
+		 *  Gibt Anzahl der bei der letzten INSERT, UPDATE bzw. DELETE
+		 *  Anweisung ge&#228;nderten Datens&#228;tze.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \return Anzahl der Datens&#228;tze
+		 *  \remarks F&#252;r gefundene Datens&#228;tze sollte GetNumRows() genutzt werden
+		 */
+		function GetAffectedRows()
+		{
+			if ($this-&gt;db_id !== false)
+			{
+				// Wenn Datenbankverbindung besteht, gebe
+				// Anzahl zuletzt ge&#228;nderter Datens&#228;tze zur&#252;ck
+				return @mysql_affected_rows($this-&gt;db_id);
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief Liefert Fehlerinformationen
+		 *
+		 *  Liefert Feld mit Fehlernachricht und interner Fehlernummer
+		 *  zur&#252;ck.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \return Feld mit feld[0] als Fehlernachricht und feld[1] als Fehlernummer
+		 */
+		function GetError()
+		{
+			$error = array();
+			if ($this-&gt;db_id !== false)
+			{
+				$error['msg'] = @mysql_error($this-&gt;db_id);
+				$error['code'] = @mysql_errno($this-&gt;db_id);
+				
+			}
+			else
+			{
+				$error['msg'] = &quot;Keine Verbindung vorhanden&quot;;
+				$error['code'] = 0;
+			}
+
+			return $error;
+		}
+
+		/*! \brief Liefert die ID des letzten INSERTS
+		 *
+		 *  Liefert die ID des bei den letzten INSERT angelegten
+		 *  Datensatzes zur&#252;ck
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \pre INSERT-Query muss gemacht worden sein
+		 *  \return ID des zuletzt hinzugef&#252;gten Datensatzes
+		 *  \retval false bei Misserfolg
+		 */
+		function GetInsertID()
+		{
+			if ($this-&gt;db_id !== false)
+			{
+				// Wenn Datenbankverbindung besteht, gebe 
+				// ID des zuletzt hinzugef&#252;gten Datensatzes
+				// zur&#252;ck
+				return @mysql_insert_id($this-&gt;db_id);
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief Anzahl zuletzt gefundener Datens&#228;tze
+		 *
+		 *  Gibt Anzahl der bei der letzten SELECT-Anweisung
+		 *  gefundenen Datens&#228;tze.
+		 *  \pre Datenbankverbindung muss mit einer Abfrage bestehen
+		 *  \return bei Erfolg Anzahl der Datens&#228;tze
+		 *  \retval false bei Misserfolg
+		 *  \remarks F&#252;r ge&#228;nderte Datens&#228;tze sollte GetAffectedRows() genutzt werden
+		 */
+		function GetNumRows()
+		{
+			if ($this-&gt;db_id !== false &amp;&amp; $this-&gt;query_result !== false)
+			{
+				// Wenn Datenbankverbindung und Ergebnis eines Querys
+				// besteht, gebe Anzahl gefundener Datens&#228;tze zur&#252;ck
+				return @mysql_num_rows($this-&gt;query_result);
+			}
+			else
+			{
+				return false;
+			}
+		}
+		
+		/*! \brief Sendet Anfrage an Server
+		 *
+		 *  Sendet eine Anfrage an die aktive Datenbank.
+		 *  Erhaltene Datens&#228;tze der Anfrage k&#246;nnen mit Fetch abgefragt
+		 *  werden.
+		 *  \pre Datenbankverbindung muss bestehen
+		 *  \param[in] $query SQL-Anfrage an den Datenbankserver
+		 *  \retval false wenn ein Fehler in der Anfrage aufgetreten ist
+		 */
+		function Query($query)
+		{
+			if ($this-&gt;db_id !== false)
+			{
+				// Wenn Datenbankverbindung besteht, sende
+				// Abfrage an Datenbank
+				$this-&gt;FreeResult();
+				return $this-&gt;query_result = @mysql_query($query, $this-&gt;db_id);
+			}
+			else
+			{
+				return false;
+			}
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/include/suche.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/include/suche.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/include/suche.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,275 @@
+&lt;?php
+	require_once(&quot;include/autor.php&quot;);
+	require_once(&quot;include/literatur.php&quot;);
+
+	/*! \brief Suche Literaturdaten
+	 *
+	 *  Durchsucht die Tabelle Bibliothek und Autoren &#252;ber Volltextsuche,
+	 *  nach Autor und Titel oder nach den 10 zuletzt hinzugef&#252;gten
+	 *  Literatureintr&#228;gen und speichert sie in $Treffer zwischen.
+	 *  \pre Datenbankverbindung muss bestehen
+	 *  \sa
+	 *  - Autor::GetAll
+	 *  - SQLDB::Query
+	 *  - SQLDB::Fetch
+	 *
+	 *  \author Sven Eckelmann
+	 *  \date 30.05.2006
+	 */
+	class Suche
+	{
+		/*! \brief gefundene Treffer
+		 *
+		 *  Feld aus gefundenen Trefferobjekten mit Attributen
+		 *   - Nr
+		 *   - Titel
+		 *   - Autor
+		 *   - Verlag
+		 *   - ISBN
+		 */
+		var $Treffer = array();
+
+		/*! \brief Sucht zuletzt hinzugef&#252;gte Literatur
+		 *
+		 *  Sucht in Tabelle Bibliothek nach den 10 zuletzt hinzugef&#252;gten
+		 *  Literatureintr&#228;gen und speichert Nr, Titel, Autor, Verlag
+		 *  und ISBN als Objekt im Feld $Treffer. Sollte ein Fehler
+		 *  auftreten oder bisher keine Eintr&#228;ge vorhanden sein, dann
+		 *  wird $Treffer ein Feld der L&#228;nge 0.
+		 *  \pre Datenbankverbindung muss bestehen.
+		 *  \private
+		 */
+		function LetzteLiteratur()
+		{
+			global $sqldb, $db_config;
+
+			// Finde die 10 zuletzt hinzugef&#252;gten Literatureintr&#228;ge
+			$sql = &quot;SELECT Literatur_Nr AS Nr, Titel, Verlag, ISBN
+					FROM &quot;.$db_config['prefix'].&quot;Bibliothek AS bibliothek
+					ORDER BY `Literatur_Nr` DESC
+					LIMIT 10&quot;;
+			$sqldb-&gt;Query($sql);
+
+			// Lese Treffer aus
+			$this-&gt;Treffer = array();
+			while ($cur = $sqldb-&gt;Fetch())
+			{
+				$this-&gt;Treffer[] = $cur;	
+			}
+
+			// Lese zu jedem Treffer Autoren
+			for ($i = 0; $i &lt; count($this-&gt;Treffer); $i++)
+			{
+				// Kommagetrennte Autorenliste erstellen
+				$authors = Autor::GetAll($this-&gt;Treffer[$i]-&gt;Nr);
+
+				// Erstelle kommagetrennte Liste der Autoren
+				$autorlist = &quot;&quot;;
+				if (empty($authors) === false)
+				{
+					$autornamen = array();
+					foreach ($authors as $cur)
+					{
+						$autornamen[] = $cur-&gt;Name;
+					}
+	
+					$autorlist = implode(&quot;, &quot;, $autornamen);
+				}
+				$this-&gt;Treffer[$i]-&gt;Autor = $autorlist;
+			}
+		}
+
+		/*! \brief Sucht nach Literatur mit Suchbegriff
+		 *
+		 *  Sucht in Tabelle Bibliothek und Autor nach dem Auftreten
+		 *  des &#252;bergebenen Textes in  Literatureintr&#228;gen und speichert
+		 *  Nr, Titel, Autor, Verlag und ISBN als Objekt im Feld
+		 *  $Treffer. Sollte ein Fehler auftreten oder keine passenden
+		 *  Eintr&#228;ge vorhanden sein, dann wird $Treffer ein Feld der
+		 *  L&#228;nge 0.
+		 *  \pre Datenbankverbindung muss bestehen.
+		 *  \param[in] $volltext Suchtext
+		 *  \private
+		 */
+		function VolltextSuche($volltext)
+		{
+			global $sqldb, $db_config;
+			$this-&gt;Treffer = array();
+
+			$volltext = trim($volltext);
+			if (empty($volltext) === false)
+			{
+				// Finde Literatur mit Suchbegriff
+				$sql = &quot;SELECT DISTINCT bibliothek.Literatur_Nr AS Nr, Titel, Verlag, ISBN
+						FROM (&quot;.$db_config['prefix'].&quot;Bibliothek AS bibliothek
+							INNER JOIN  &quot;.$db_config['prefix'].&quot;Literatur_Autor AS connect
+							ON bibliothek.Literatur_Nr = connect.Literatur_Nr)
+						INNER JOIN  &quot;.$db_config['prefix'].&quot;Autoren AS autoren
+						ON connect.Autor_Nr = autoren.Autor_Nr
+						WHERE MATCH (Titel, Verlag, ISBN, Beschreibung, Ort, Stichworte) AGAINST ('$volltext')
+						OR MATCH (Autorname) AGAINST ('$volltext')&quot;;
+				$sqldb-&gt;Query($sql);
+				
+				// Lese Treffer aus
+				while ($cur = $sqldb-&gt;Fetch())
+				{
+					$this-&gt;Treffer[] = $cur;	
+				}
+	
+				// Lese zu jedem Treffer Autoren
+				for ($i = 0; $i &lt; count($this-&gt;Treffer); $i++)
+				{
+					// Kommagetrennte Autorenliste erstellen
+					$authors = Autor::GetAll($this-&gt;Treffer[$i]-&gt;Nr);
+	
+					// Erstelle kommagetrennte Liste der Autoren
+					$autorlist = &quot;&quot;;
+					if (empty($authors) === false)
+					{
+						$autornamen = array();
+						foreach ($authors as $cur)
+						{
+							$autornamen[] = $cur-&gt;Name;
+						}
+		
+						$autorlist = implode(&quot;, &quot;, $autornamen);
+					}
+					$this-&gt;Treffer[$i]-&gt;Autor = $autorlist;
+				}
+			}
+		}
+		
+		/*! \brief Sucht Literatur mit Autor und Titel
+		 *
+		 *  Sucht in Tabelle Bibliothek und Autoren nach dem Auftreten
+		 *  von $autor in Autor und $titel im Titel des Literatureintrags
+		 *  und speichert Nr, Titel, Autor, Verlag und ISBN der Treffer
+		 *  als Objekt im Feld $Treffer. Sollte ein Fehler auftreten
+		 *  oder keine passenden Eintr&#228;ge vorhanden sein, dann wird
+		 *  $Treffer ein Feld der L&#228;nge 0.
+		 *  \pre Datenbankverbindung muss bestehen.
+		 *  \param[in] $titel String mit Literaturtitel
+		 *  \param[in] $autor String mit Autorname
+		 *  \private
+		 *  \remarks Wird eine kommagetrennte Liste von Autoren als
+		 *    $autor &#252;bergeben, muss in Treffern nur einer der
+		 *    genannten Autoren auftreten.
+		 */
+		function AutorTitelSuche($titel, $autor)
+		{
+			global $sqldb, $db_config;
+			$this-&gt;Treffer = array();
+
+			$titel = trim($titel);
+			$autor = trim($autor);
+			if (empty($titel) === false || empty($autor) === false)
+			{
+				// Finde Literatur mit Titel und Autor
+				$sql = &quot;SELECT DISTINCT bibliothek.Literatur_Nr AS Nr, Titel, Verlag, ISBN
+						FROM (&quot;.$db_config['prefix'].&quot;Bibliothek AS bibliothek
+							INNER JOIN  &quot;.$db_config['prefix'].&quot;Literatur_Autor AS connect
+							ON bibliothek.Literatur_Nr = connect.Literatur_Nr)
+						INNER JOIN  &quot;.$db_config['prefix'].&quot;Autoren AS autoren
+						ON connect.Autor_Nr = autoren.Autor_Nr
+						WHERE bibliothek.Titel like '%&quot;.$titel.&quot;%'&quot;;
+
+				// Trenne kommagetrennte Autorenliste und
+				// f&#252;ge es Suche hinzu
+				if (empty($autor) === false)
+				{
+					$sql .= &quot; AND (&quot;;
+					$authors = array();
+					$authors = split(&quot;,&quot;, $autor);
+					for($i = 0; $i &lt; count($authors); $i++)
+					{
+						if ($i != 0)
+						{
+							$sql .= &quot; OR &quot;;
+						}
+						$sql .= &quot;autoren.Autorname like '%&quot;.trim($authors[$i]).&quot;%'&quot;;
+					}
+					$sql .= &quot;)&quot;;
+				}
+				$sqldb-&gt;Query($sql);
+
+				// Lese Treffer aus
+				while ($cur = $sqldb-&gt;Fetch())
+				{
+					$this-&gt;Treffer[] = $cur;	
+				}
+	
+				// Lese zu jedem Treffer Autoren
+				for ($i = 0; $i &lt; count($this-&gt;Treffer); $i++)
+				{
+					// Kommagetrennte Autorenliste erstellen
+					$authors = Autor::GetAll($this-&gt;Treffer[$i]-&gt;Nr);
+	
+					// Erstelle kommagetrennte Liste der Autoren
+					$autorlist = &quot;&quot;;
+					if (empty($authors) === false)
+					{
+						$autornamen = array();
+						foreach ($authors as $cur)
+						{
+							$autornamen[] = $cur-&gt;Name;
+						}
+		
+						$autorlist = implode(&quot;, &quot;, $autornamen);
+					}
+					$this-&gt;Treffer[$i]-&gt;Autor = $autorlist;
+				}
+			}
+		}
+
+		
+		/*! \brief Sucht Literatur
+		 *
+		 *  Wenn keine Parameter &#252;bergeben werden:
+		 *  - Sucht in Tabelle Bibliothek nach den 10 zuletzt
+		 *    hinzugef&#252;gten Literatureintr&#228;gen und speichert Nr, Titel,
+		 *    Autor, Verlag und ISBN als Objekt im Feld $Treffer.
+		 *    Sollte ein Fehler auftreten oder bisher keine Eintr&#228;ge
+		 *    vorhanden sein, dann wird $Treffer ein Feld der L&#228;nge 0.
+		 *
+		 *  Wenn ein $suchbegriff &#252;bergeben wird:
+		 *  - Sucht in Tabelle Literatur und Autoren nach dem Auftreten
+		 *    des &#252;bergebenen Textes in  Literatureintr&#228;gen und speichert
+		 *    Nr, Titel, Autor, Verlag und ISBN als Objekt im Feld
+		 *    $Treffer. Sollte ein Fehler auftreten oder keine passenden
+		 *    Eintr&#228;ge vorhanden sein, dann wird $Treffer ein Feld der
+		 *    L&#228;nge 0.
+		 *
+		 *  Wenn $suchbegriff und $autor &#252;bergeben werden:
+		 *  - Sucht in Tabelle Bibliothek und Autoren nach dem Auftreten
+		 *    von $autor in Autor und $suchbegriff im Titel des 
+		 *    Literatureintrags und speichert Nr, Titel, Autor, Verlag
+		 *    als Objekt im Feld $Treffer. Sollte ein Fehler auftreten
+		 *    und ISBN der Treffer oder keine passenden Eintr&#228;ge vorhanden
+		 *    sein, dann wird $Treffer ein Feld der L&#228;nge 0.
+		 *  - Wird eine kommagetrennte Liste von Autoren als
+		 *    $autor &#252;bergeben, muss in Treffern nur einer der
+		 *    genannten Autoren auftreten.
+		 *
+		 *  \pre Datenbankverbindung muss bestehen.
+		 *  \param[in] $autor String mit Autorname
+		 *  \param[in] $suchbegriff String mit Literaturtitel bzw. wenn
+		 *     einzeln &#252;bergeben Suchtext f&#252;r Volltextsuche
+		 */
+		function Suche($suchbegriff=&quot;&quot;, $autor=&quot;&quot;)
+		{
+			// W&#228;hle nach Parameteranzahl die richtige Suchfunktion
+			switch (func_num_args())
+			{
+			case 0:
+				$this-&gt;LetzteLiteratur();
+				break;
+			case 1:
+				$this-&gt;VolltextSuche($suchbegriff);
+				break;
+			case 2:
+				$this-&gt;AutorTitelSuche($suchbegriff, $autor);
+				break;
+			}
+		}
+	}
+?&gt;

Added: trunk/docs/beleg3/sourcecodes/index.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/index.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/index.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,62 @@
+&lt;?php
+	$title = &quot;Letzte Literatur&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+	
+	&lt;table id=&quot;searchresult&quot;&gt;
+		&lt;thead&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;col&quot;&gt;Titel&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;Autor&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;Verlag&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;ISBN&lt;/th&gt;
+			&lt;/tr&gt;
+		&lt;/thead&gt;
+		&lt;tbody&gt;
+			&lt;?php
+				// Suche zuletzt hinzugef&#252;gte Literatur
+				require_once(&quot;include/suche.php&quot;);
+				$search = new Suche();
+
+				// Gebe alle gefundenen Treffer aus
+				foreach ($search-&gt;Treffer as $cur)
+				{
+				?&gt;
+					&lt;tr&gt;
+					&lt;td&gt;&lt;a href=&quot;lit.&lt;?=$ext;?&gt;?id=&lt;?=htmlspecialchars($cur-&gt;Nr);?&gt;&quot;&gt;
+						&lt;?=htmlspecialchars($cur-&gt;Titel);?&gt;&lt;/a&gt;
+					&lt;/td&gt;
+					&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Autor);?&gt;&lt;/td&gt;
+					&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Verlag);?&gt;&lt;/td&gt;
+					&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;ISBN);?&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+				&lt;?php
+				}
+			?&gt;
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+	&lt;?php
+		// Sind Mitgliedsrechte vorhanden, gebe Hinzuf&#252;ge- und Importierknopf aus
+		if ($login-&gt;IsMember() === true)
+		{
+		?&gt;
+			&lt;hr&gt;
+			&lt;form style=&quot;display:inline&quot; action=&quot;litmod.php&quot;&gt;
+				&lt;span&gt;
+					&lt;input type=&quot;submit&quot; value=&quot;Literatur hinzuf&uuml;gen&quot;&gt;
+				&lt;/span&gt;
+			&lt;/form&gt;
+			&lt;form style=&quot;display:inline&quot; action=&quot;bibtex.php&quot;&gt;
+				&lt;span&gt;
+					&lt;input type=&quot;submit&quot; value=&quot;BibTeX importieren&quot;&gt;
+				&lt;/span&gt;
+			&lt;/form&gt;
+		&lt;?php
+		}
+	?&gt;
+
+
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/install.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/install.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/install.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,326 @@
+&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;<A HREF="http://www.w3.org/TR/html4/strict.dtd">http://www.w3.org/TR/html4/strict.dtd</A>&quot;&gt;
+&lt;html&gt;
+	&lt;head&gt;
+		&lt;title&gt;Install :: LiMan&lt;/title&gt;
+		&lt;link rel=&quot;SHORTCUT ICON&quot; href=&quot;favicon.ico&quot;&gt;
+		&lt;meta name=&quot;description&quot; content=&quot;Literature Manager&quot;&gt;
+		&lt;meta name=&quot;keywords&quot; content=&quot;bibtex, books, literature, database, manager&quot;&gt;
+		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
+		&lt;meta name=&quot;robots&quot; content=&quot;follow&quot;&gt;
+		&lt;meta http-equiv=&quot;content-language&quot; content=&quot;de&quot;&gt;
+		&lt;meta name=&quot;author&quot; content=&quot;Simon Wunderlich&quot;&gt;
+		&lt;link rel=&quot;home&quot; title=&quot;Home&quot; href=&quot;index.php&quot;&gt;
+		&lt;style type=&quot;text/css&quot;&gt;
+			th {
+				width: 10em;
+				text-align: left;
+			}
+			td {
+				width: 20em;
+			}
+
+			.input_text, .input_password {
+				width: 20em;
+			}
+		&lt;/style&gt;
+	&lt;/head&gt;
+	&lt;body id=&quot;liman_install&quot;&gt;
+		&lt;h1&gt;LiMan Installation&lt;/h1&gt;
+&lt;?php
+	// Lese &#252;bergebene Variablen aus bzw. setzte Standardwerte
+	if (empty($_POST[&quot;dbms&quot;]) === false)
+	{
+		$db_config['dbms'] = &quot;mysql&quot;;
+
+		if ($_POST[&quot;dbms&quot;] === &quot;MySQL5&quot;)
+		{
+			$enableUTF8 = true;
+		}
+		else
+		{
+			$enableUTF8 = false;
+		}
+	}
+	else
+	{
+		$db_config['dbms'] = &quot;mysql&quot;;
+	}
+
+	if (empty($_POST[&quot;user&quot;]) === false)
+	{
+		$db_config['user'] = $_POST[&quot;user&quot;];
+	}
+	else
+	{
+		$db_config['user'] = &quot;&quot;;
+	}
+
+	if (empty($_POST[&quot;pass&quot;]) === false)
+	{
+		$db_config['pass'] = $_POST[&quot;pass&quot;];
+	}
+	else
+	{
+		$db_config['pass'] = &quot;&quot;;
+	}
+
+	if (empty($_POST[&quot;name&quot;]) === false)
+	{
+		$db_config['name'] = $_POST[&quot;name&quot;];
+	}
+	else
+	{
+		$db_config['name'] = &quot;&quot;;
+	}
+
+	if (empty($_POST[&quot;host&quot;]) === false)
+	{
+		$db_config['host'] = $_POST[&quot;host&quot;];
+	}
+	else
+	{
+		$db_config['host'] = &quot;&quot;;
+	}
+
+	if (empty($_POST[&quot;prefix&quot;]) === false)
+	{
+		$db_config['prefix'] = $_POST[&quot;prefix&quot;];
+	}
+	elseif (isset($_GET[&quot;install&quot;]) === true)
+	{
+		$db_config['prefix'] = &quot;&quot;;
+	}
+	else
+	{
+		$db_config['prefix'] = &quot;liman_&quot;;
+	}
+
+	if (empty($_POST[&quot;loginname&quot;]) === false)
+	{
+		$loginname = $_POST[&quot;loginname&quot;];
+	}
+	elseif (isset($_GET[&quot;install&quot;]) === true)
+	{
+		die(&quot;Sie m&#252;ssen ein Loginname angeben&quot;);
+		echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
+	}
+	else
+	{
+		$loginname = &quot;admin&quot;;
+	}
+
+	if (empty($_POST[&quot;passwort&quot;]) === false)
+	{
+		$passworthash = sha1($_POST[&quot;passwort&quot;]);
+	}
+	elseif (isset($_GET[&quot;install&quot;]) === true)
+	{
+		$passworthash = &quot;&quot;;
+		die(&quot;Sie m&#252;ssen ein Passwort angeben&quot;);
+		echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
+	}
+	else
+	{
+		$passworthash = &quot;&quot;;
+	}
+
+	
+	// Soll Tabellen Datenbank erstellt werden?
+	if (isset($_GET[&quot;install&quot;]) === true)
+	{
+		// Wenn ja, verbinde mit Datenbank
+		require_once(&quot;include/sqldb.php&quot;);
+
+		// Erstelle SQL-Befehle zum L&#246;schen alter Tabellen
+		$sqlDrop[&quot;Autoren&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Autoren`&quot;;
+		$sqlDrop[&quot;Bibliothek&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Bibliothek`&quot;;
+		$sqlDrop[&quot;Kommentare&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Kommentare`&quot;;
+		$sqlDrop[&quot;Literatur_Autor&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Literatur_Autor`&quot;;
+		$sqlDrop[&quot;Mitglieder&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Mitglieder`&quot;;
+
+		// Erstelle SQL-Befehle zum Erstellen neuer Tabellen
+		$sqlCreate[&quot;Autoren&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Autoren` (
+			`Autor_Nr` int(11) NOT NULL auto_increment,
+			`Autorname` varchar(40) NOT NULL,
+			PRIMARY KEY  (`Autor_Nr`),
+			UNIQUE KEY `Autorname` (`Autorname`),
+			FULLTEXT KEY `Autorname_2` (`Autorname`)
+			)&quot;;
+		$sqlCreate[&quot;Bibliothek&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Bibliothek` (
+			`Literatur_Nr` int(11) NOT NULL auto_increment,
+			`Art` enum('Buch','Artikel','Brosch&#252;re','Protokoll','Anleitung','Diplomarbeit','Dissertation','Techn. Bericht','Unver&#246;ffentlicht','Sonstiges') NOT NULL,
+			`Titel` varchar(40) NOT NULL,
+			`Jahr` int(11) NOT NULL,
+			`Verlag` varchar(40) NOT NULL,
+			`ISBN` varchar(20) NOT NULL,
+			`Beschreibung` text NOT NULL,
+			`Ort` varchar(40) NOT NULL,
+			`Stichworte` varchar(100) NOT NULL,
+			PRIMARY KEY  (`Literatur_Nr`),
+			FULLTEXT KEY `Titel` (`Titel`,`Verlag`,`ISBN`,`Beschreibung`,`Ort`,`Stichworte`)
+			)&quot;;
+		$sqlCreate[&quot;Kommentare&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Kommentare` (
+			`Kommentar_Nr` int(11) NOT NULL auto_increment,
+			`Kommentartext` text NOT NULL,
+			`Literatur_Nr` int(11) NOT NULL,
+			`Mitglieds_Nr` int(11) NOT NULL,
+			PRIMARY KEY  (`Kommentar_Nr`),
+			KEY `Literatur_Nr` (`Literatur_Nr`,`Mitglieds_Nr`),
+			FULLTEXT KEY `Kommentartext` (`Kommentartext`)
+			)&quot;;
+		$sqlCreate[&quot;Literatur_Autor&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Literatur_Autor` (
+			`Autor_Nr` int(11) NOT NULL,
+			`Literatur_Nr` int(11) NOT NULL,
+			KEY `Autor_Nr` (`Autor_Nr`,`Literatur_Nr`)
+			)&quot;;
+		$sqlCreate[&quot;Mitglieder&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Mitglieder` (
+			`Mitglieds_Nr` int(11) NOT NULL auto_increment,
+			`Name` varchar(20) NOT NULL,
+			`Vorname` varchar(20) NOT NULL,
+			`Email` text NOT NULL,
+			`Login` varchar(12) NOT NULL,
+			`Passwort` varchar(40) NOT NULL,
+			`Rechte` enum('Benutzer','Administrator') NOT NULL,
+			PRIMARY KEY  (`Mitglieds_Nr`),
+			UNIQUE KEY `Login` (`Login`)
+			)&quot;;
+	
+		// Sollen Tabellen mit Standardzeichenkodierung UTF-8 erstellt werden?
+		if ($enableUTF8 === true)
+		{
+			$sqlCreate[&quot;Autoren&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
+			$sqlCreate[&quot;Bibliothek&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
+			$sqlCreate[&quot;Kommentare&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
+			$sqlCreate[&quot;Literatur_Autor&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
+			$sqlCreate[&quot;Mitglieder&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
+		}
+	
+		// Erstelle SQL-Befehle zum Anlegen des ersten Nuters an
+		$sqlInsertMitglied = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Mitglieder
+				VALUES (NULL, 'Istrator', 'Admin', '<A HREF="https://lists.berlios.de/mailman/listinfo/liman-svn">foo at bar.de</A>', '$loginname', '$passworthash', 'Administrator')&quot;;
+	
+		// L&#246;sche alte Tabellen in Datenbank
+		foreach ($sqlDrop as $drop)
+		{
+			if ($sqldb-&gt;Query($drop) === false)
+			{
+				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem L&#246;schen alter Tabellen auf:&lt;pre&gt;&quot;;
+				$error = $sqldb-&gt;GetError();
+				echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+				echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($drop);
+				echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
+				echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
+				die();
+			}
+		}
+	
+		// Erstelle neue Tabellen
+		foreach ($sqlCreate as $create)
+		{
+			if ($sqldb-&gt;Query($create) === false)
+			{
+				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem Erstellen neuer Tabellen auf:&lt;pre&gt;&quot;;
+				$error = $sqldb-&gt;GetError();
+				echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+				echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($create);
+				echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
+				echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
+				die();
+			}
+		}
+	
+		// Einf&#252;gen erstes Mitglied (Administrator)
+		if ($sqldb-&gt;Query($sqlInsertMitglied) === false)
+		{
+			echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem Einf&#252;gen des ersten Mitglieds auf:&lt;pre&gt;&quot;;
+			$error = $sqldb-&gt;GetError();
+			echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+			echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($sqlInsertMitglied);
+			echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
+			echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
+			die();
+		}
+
+		?&gt;
+			&lt;p&gt;Datenbank wurde erfolgreich eingerichtet.&lt;/p&gt;
+			&lt;p&gt;Erstellen sie in ihrem Installationsordner unter &quot;include&quot; eine Datei mit dem Namen &quot;config.php&quot; und folgendem Inhalt:
+			&lt;pre&gt;
+&lt;?php
+	// Datenbankeinstellungen
+	$db_config['dbms'] = &quot;&lt;?=htmlspecialchars($db_config['dbms']);?&gt;&quot;;
+	$db_config['user'] = &quot;&lt;?=htmlspecialchars($db_config['user']);?&gt;&quot;;
+	$db_config['pass'] = &quot;&lt;?=htmlspecialchars($db_config['pass']);?&gt;&quot;;
+	$db_config['name'] = &quot;&lt;?=htmlspecialchars($db_config['name']);?&gt;&quot;;
+	$db_config['host'] = &quot;&lt;?=htmlspecialchars($db_config['host']);?&gt;&quot;;
+	$db_config['prefix'] = &quot;&lt;?=htmlspecialchars($db_config['prefix']);?&gt;&quot;;
+
+	$ext = &quot;php&quot;;	// Endung der von den Usern abrufbaren Dateien
+	$gz_enable = false; // aktiviere GZIP-Kompression der HTML-Dateien
+?&gt;
+			&lt;/pre&gt;&lt;/p&gt;
+		&lt;?php
+	}
+	else
+	{
+		require_once(&quot;include/form_helper.php&quot;);
+		?&gt;
+		&lt;form id=&quot;installform&quot; action=&quot;install.php?install=&quot; method=&quot;post&quot;&gt;
+		
+		&lt;h2&gt;Datenbankeinstellungen&lt;/h2&gt;
+		&lt;table&gt;
+		&lt;tbody&gt;
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;dbms&quot;&gt;Datenbanksystem&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_select(array(&quot;MySQL3&quot;, &quot;MySQL4&quot;, &quot;MySQL5&quot;), &quot;dbms&quot;, &quot;MySQL5&quot;); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;user&quot;&gt;Benutzername&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;text&quot;, &quot;user&quot;, $db_config[&quot;user&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;pass&quot;&gt;Passwort&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;password&quot;, &quot;pass&quot;); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;host&quot;&gt;Host&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;text&quot;, &quot;host&quot;, $db_config[&quot;host&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;name&quot;&gt;Datenbankname&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;text&quot;, &quot;name&quot;, $db_config[&quot;name&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;prefix&quot;&gt;Prefix&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;text&quot;, &quot;prefix&quot;, $db_config[&quot;prefix&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+		&lt;/tbody&gt;
+		&lt;/table&gt;
+
+
+		&lt;h2&gt;Administratoreinstellungen&lt;/h2&gt;
+		&lt;table&gt;
+		&lt;tbody&gt;
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;loginname&quot;&gt;Loginname&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;text&quot;, &quot;loginname&quot;, $db_config[&quot;loginname&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+			&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;passwort&quot;&gt;Passwort&lt;/label&gt;&lt;/th&gt;
+			&lt;td&gt;&lt;?= form_input(&quot;password&quot;, &quot;passwort&quot;, $db_config[&quot;passwort&quot;]); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+		&lt;/tbody&gt;
+		&lt;/table&gt;
+
+		&lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;&Uuml;bernehmen&quot;&gt;&lt;/div&gt;
+		&lt;/form&gt;
+		&lt;?php
+	}
+	
+?&gt;
+&lt;/body&gt;&lt;/html&gt;
\ No newline at end of file

Added: trunk/docs/beleg3/sourcecodes/lit.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/lit.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/lit.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,190 @@
+&lt;?php
+	$title = &quot;Literaturdetails&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+	require_once(&quot;include/literatur.php&quot;);
+
+	// Lese Literatur aus, wenn id &#252;bergeben wurde
+	if (isset($_GET[&quot;id&quot;]))
+	{
+		$literatur = new Literatur($_GET[&quot;id&quot;]);
+	}
+	else
+	{
+		$literatur = new Literatur(0);
+	}
+
+	// gebe Literatur aus
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+	
+	&lt;table id=&quot;litdetails&quot;&gt;
+		&lt;tbody&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Titel:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($literatur-&gt;Titel); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Autor:&lt;/th&gt;	
+				&lt;td&gt;&lt;?php
+					$autorlist = &quot;&quot;;
+
+					if (count($literatur-&gt;Autoren) &gt; 0)
+					{
+						$autornamen = array();
+						foreach ($literatur-&gt;Autoren as $autor)
+						{
+							$autornamen[] = $autor-&gt;Name;
+						}
+	
+						$autorlist = implode(&quot;, &quot;, $autornamen);
+					}
+					echo htmlspecialchars($autorlist);
+				?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Erscheinungsjahr:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($literatur-&gt;Jahr); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Verlag:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($literatur-&gt;Verlag); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Verlagsort:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($literatur-&gt;Ort); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;ISBN:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($literatur-&gt;ISBN); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Beschreibung:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=nl2br(htmlspecialchars($literatur-&gt;Beschreibung)); ?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Bibtex:&lt;/th&gt;	
+				&lt;td&gt;
+					&lt;pre&gt;&lt;?= htmlspecialchars($literatur-&gt;ToBibtex()); ?&gt;&lt;/pre&gt;
+				&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;?php
+				// Sind Mitgliedsrechte vorhanden, gebe Bearbeiten- und L&#246;schenknopf aus
+				if ($login-&gt;IsMember() === true)
+				{
+			?&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Aktionen:&lt;/th&gt;	
+					&lt;td&gt;&lt;form style=&quot;display:inline&quot; action=&quot;litmod.&lt;?=$ext;?&gt;?id=&lt;?=htmlspecialchars($_GET[&quot;id&quot;]);?&gt;&quot; method=&quot;post&quot;&gt;
+							&lt;span&gt;&lt;input type=&quot;submit&quot; value=&quot;Bearbeiten&quot;&gt;&lt;/span&gt;
+						&lt;/form&gt;
+						&lt;form style=&quot;display:inline&quot; action=&quot;litmod.&lt;?=$ext;?&gt;?delete=&amp;id=&lt;?=htmlspecialchars($_GET[&quot;id&quot;]);?&gt;&quot; method=&quot;post&quot;&gt;
+							&lt;span&gt;&lt;input type=&quot;submit&quot; value=&quot;L&ouml;schen&quot;&gt;&lt;/span&gt;
+					&lt;/form&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;?php
+				}
+			?&gt;
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+	&lt;hr&gt;
+
+	&lt;table id=&quot;litkommentare&quot;&gt;
+		&lt;tbody&gt;
+			&lt;?php
+				require_once(&quot;include/form_helper.php&quot;);
+				$owncomment = &quot;&quot;; // hat der user schon etwas kommentiert?
+				foreach ($literatur-&gt;Kommentare as $cur)
+				{
+					// Suche ob schon ein Kommentar des aktuellen Mitglieds existiert
+					if ($login-&gt;Nr == $cur-&gt;Verfasser_Nr)
+					{
+						$owncomment-&gt;Text = $cur-&gt;Text;
+						$owncomment-&gt;Nr = $cur-&gt;Nr;
+						
+					}
+			?&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;&lt;?=htmlspecialchars($cur-&gt;Verfasser_Name);?&gt;:&lt;/th&gt;	
+					&lt;td class=&quot;kommentar&quot;&gt;&lt;?=htmlspecialchars($cur-&gt;Text);?&gt;&lt;/td&gt;
+					&lt;td&gt;&lt;?php
+						// Darf der User l&#246;schen?
+						if ($login-&gt;Nr == $cur-&gt;Verfasser_Nr || $login-&gt;IsAdministrator() === true)
+						{
+							echo &quot;&lt;span style=\&quot;font-size: xx-small\&quot;&gt;&quot;;
+							echo &quot;&lt;a href=\&quot;commentmod.php?delete&amp;id=&quot;.$cur-&gt;Nr.&quot;&amp;litid=&quot;.htmlspecialchars($_GET[&quot;id&quot;]).&quot;\&quot;&gt;(l&#246;schen)&lt;/a&gt;&lt;/span&gt;&quot;;
+						}
+					?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;?php
+				}
+			?&gt;
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+
+	&lt;?php
+		if ($login-&gt;IsMember() === true)
+		{
+			require_once(&quot;include/form_helper.php&quot;);
+
+			// Soll Kommentar-Hinzuf&#252;gen-Box erscheinen oder Update-Box?
+			// (abh&#228;ngig ob schon Kommentar das Mitglieds existiert)
+			if (empty($owncomment) === true)
+			{
+				// Zeige Hinzuf&#252;gen-Formular
+		?&gt;
+			&lt;form action=&quot;commentmod.&lt;?=$ext;?&gt;?insert=&quot; method=&quot;post&quot;&gt;
+			&lt;span&gt;
+				&lt;?=form_input(&quot;hidden&quot;, &quot;litid&quot;, $_GET[&quot;id&quot;]);?&gt;
+				&lt;?=form_input(&quot;hidden&quot;, &quot;userid&quot;, $login-&gt;Nr);?&gt;
+			&lt;/span&gt;
+			&lt;table id=&quot;litkommentaradd&quot;&gt;
+				&lt;tbody&gt;
+					&lt;tr&gt;
+						&lt;th scope=&quot;row&quot;&gt;Neuer Kommentar:&lt;/th&gt;	
+						&lt;td&gt;
+							&lt;textarea id=&quot;text&quot; name=&quot;text&quot; cols=40 rows=10&gt;&lt;/textarea&gt;
+						&lt;/td&gt;
+					&lt;/tr&gt;
+					&lt;tr&gt;
+						&lt;th scope=&quot;row&quot;&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Kommentar senden&quot;&gt;&lt;/td&gt;
+						
+					&lt;/tr&gt;
+				&lt;/tbody&gt;
+			&lt;/table&gt;
+			&lt;/form&gt;
+		&lt;?php
+			}
+			else
+			{
+				// Zeige &#196;ndern-Formular
+		?&gt;
+			&lt;form action=&quot;commentmod.&lt;?=$ext;?&gt;?update&quot; method=&quot;post&quot;&gt;
+			&lt;span&gt;
+				&lt;?=form_input(&quot;hidden&quot;, &quot;litid&quot;, $_GET[&quot;id&quot;]);?&gt;
+				&lt;?=form_input(&quot;hidden&quot;, &quot;id&quot;, $owncomment-&gt;Nr);?&gt;
+			&lt;/span&gt;
+			&lt;table id=&quot;litkommentarmod&quot;&gt;
+				&lt;tbody&gt;
+					&lt;tr&gt;
+						&lt;th scope=&quot;row&quot;&gt;&lt;label for=&quot;text&quot;&gt;Kommentar &#228;ndern:&lt;/label&gt;&lt;/th&gt;	
+						&lt;td&gt;
+							&lt;textarea id=&quot;text&quot; name=&quot;text&quot; cols=40 rows=10&gt;&lt;?=htmlspecialchars($owncomment-&gt;Text);?&gt;&lt;/textarea&gt;
+						&lt;/td&gt;
+					&lt;/tr&gt;
+					&lt;tr&gt;
+						&lt;th scope=&quot;row&quot;&gt;&lt;/th&gt;
+						&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Kommentar senden&quot;&gt;&lt;/td&gt;
+						
+					&lt;/tr&gt;
+				&lt;/tbody&gt;
+			&lt;/table&gt;
+			&lt;/form&gt;
+		&lt;?php
+			}
+		}
+	?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/litmod.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/litmod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/litmod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,434 @@
+&lt;?php
+	// W&#228;hle Seitentitel nach ausgew&#228;hlter Aktion
+	if (isset($_GET[&quot;delete&quot;]) === true)
+	{
+		$title = &quot;Literatur l&#246;schen&quot;;
+	}
+	elseif (isset($_GET[&quot;id&quot;]) === true || isset($_POST[&quot;id&quot;]) === true)
+	{
+		$title = &quot;Literatur &#228;ndern&quot;;
+	}
+	else
+	{
+		$title = &quot;Literatur hinzuf&#252;gen&quot;;
+	}
+
+	require_once(&quot;include/header.php&quot;);
+
+	// Abbruch wenn keine Mitgliedsrechte vorhanden
+	if ($login-&gt;IsMember() === false)
+	{
+		echo &quot;&lt;div id=\&quot;error\&quot;&gt;Sie sind f&#252;r diese Aktion nicht berechtigt&lt;/div&gt;&quot;;
+		require_once(&quot;include/footer.php&quot;);
+		die();
+	}
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+&lt;?php
+	$error_occurred = false; // Fehler beim Verarbeiten aufgetreten?
+	$error_titel = false;
+	$error_autor = false;
+	$error_jahr = false;
+
+	// &#220;berpr&#252;fe wichtige Parameter bei Insert und Update auf Vorhandensein
+	if (isset($_GET[&quot;insert&quot;]) === true || isset($_GET[&quot;update&quot;]) === true)
+	{
+		if (empty($_POST[&quot;titel&quot;]) === true)
+		{
+			$error_titel = true;
+			$error_occurred = true;
+		}
+
+		if (empty($_POST[&quot;autor&quot;]) === true)
+		{
+			$error_autor = true;
+			$error_occurred = true;
+		}
+
+		if (empty($_POST[&quot;jahr&quot;]) === false &amp;&amp; is_numeric($_POST[&quot;jahr&quot;]) === false)
+		{
+			$error_jahr = true;
+			$error_occurred = true;
+		}
+	}
+
+	// Gebe Fehler bei Parameter&#252;berpr&#252;fung aus
+	if ($error_occurred == true)
+	{
+		echo &quot;&lt;div id=\&quot;error_list\&quot;&gt;Es scheinen Fehler bei der Verarbeitung aufgetreten zu sein:&lt;ul&gt;&quot;;
+		
+		if ($error_titel === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen einen Titel f&#252;r die Literatur angeben&lt;/li&gt;&quot;;
+		}
+
+		if ($error_autor === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen mindestens einen Autor angeben&lt;/li&gt;&quot;;
+		}
+
+		if ($error_jahr === true)
+		{
+			echo &quot;&lt;li&gt;Das Jahr muss eine Zahl sein&lt;/li&gt;&quot;;
+		}
+
+		echo &quot;&lt;/ul&gt;&lt;/div&gt;&quot;;
+	}
+
+	// Gebe Formular aus, wenn keine Schreibaktionen ausgef&#252;hrt werden
+	if ((isset($_GET[&quot;delete&quot;]) === false &amp;&amp; isset($_GET[&quot;insert&quot;]) === false &amp;&amp; isset($_GET[&quot;update&quot;]) === false)
+		|| $error_occurred === true)
+	{
+		// Lese id aus, wenn vorhanden
+		if (isset($_POST[&quot;id&quot;]) === true)
+		{
+			$id = $_POST[&quot;id&quot;];
+		}
+		elseif (isset($_GET[&quot;id&quot;]) === true)
+		{
+			$id = $_GET[&quot;id&quot;];
+		}
+		else
+		{
+			unset($id);
+		}
+
+		require_once(&quot;include/form_helper.php&quot;);
+		// Lese Literatur aus, wenn id bekannt ist und vorher kein Fehler aufgetreten ist
+		if ($error_occurred === false &amp;&amp; (isset($_GET[&quot;id&quot;]) === true || isset($_POST[&quot;id&quot;]) === true))
+		{
+			require_once(&quot;include/literatur.php&quot;);
+
+			$lit = new Literatur($id);
+			$titel = $lit-&gt;Titel;
+			$autor = &quot;&quot;;
+			$jahr = $lit-&gt;Jahr;
+			$stichworte = $lit-&gt;Stichworte;
+
+			if (isset($lit-&gt;Art) === true)
+			{
+				$art = $lit-&gt;Art-&gt;GetDisplayText();
+			}
+			else
+			{
+				$art = &quot;Buch&quot;;
+			}
+
+			$autor = &quot;&quot;;
+			if (empty($lit-&gt;Autoren) === false)
+			{
+				$autornamen = array();
+				foreach ($lit-&gt;Autoren as $cur)
+				{
+					$autornamen[] = $cur-&gt;Name;
+				}
+
+				$autor = implode(&quot;, &quot;, $autornamen);
+			}
+
+			$verlag = $lit-&gt;Verlag;
+			$ort = $lit-&gt;Ort;
+			$isbn = $lit-&gt;ISBN;
+			$beschreibung = $lit-&gt;Beschreibung;
+		}
+		else
+		{
+			// Sollte vorher Fehler aufgetreten sein, lese Parameter aus.
+			// Sollten vorher keine Fehler aufgetreten sein (keine
+			// id bekannt), setze Default Wert
+
+			// Setze Titel
+			if (isset($_POST[&quot;titel&quot;]) === true)
+			{
+				$titel = stripslashes($_POST[&quot;titel&quot;]);
+			}
+			else
+			{
+				$titel = &quot;&quot;;
+			}
+
+			// Setze Autoren
+			if (isset($_POST[&quot;autor&quot;]) === true)
+			{
+				$autor = stripslashes($_POST[&quot;autor&quot;]);
+			}
+			else
+			{
+				$autor = &quot;&quot;;
+			}
+
+			// Setze Jahr
+			if (isset($_POST[&quot;jahr&quot;]) === true)
+			{
+				$jahr = stripslashes($_POST[&quot;jahr&quot;]);
+			}
+			else
+			{
+				$jahr = date(&quot;Y&quot;);
+			}
+
+			// Setze Stichworte
+			if (isset($_POST[&quot;stichworte&quot;]) === true)
+			{
+				$stichworte = stripslashes($_POST[&quot;stichworte&quot;]);
+			}
+			else
+			{
+				$stichworte = &quot;&quot;;
+			}
+
+			// Setze Art
+			if (isset($_POST[&quot;art&quot;]) === true)
+			{
+				$art = stripslashes($_POST[&quot;art&quot;]);
+			}
+			else
+			{
+				$art = &quot;Buch&quot;;
+			}
+
+			// Setze Verlag
+			if (isset($_POST[&quot;verlag&quot;]) === true)
+			{
+				$verlag = stripslashes($_POST[&quot;verlag&quot;]);
+			}
+			else
+			{
+				$verlag = &quot;&quot;;
+			}
+
+			// Setze Ort
+			if (isset($_POST[&quot;ort&quot;]) === true)
+			{
+				$ort = stripslashes($_POST[&quot;ort&quot;]);
+			}
+			else
+			{
+				$ort = &quot;&quot;;
+			}
+
+			// Setze ISBN
+			if (isset($_POST[&quot;isbn&quot;]) === true)
+			{
+				$isbn = stripslashes($_POST[&quot;isbn&quot;]);
+			}
+			else
+			{
+				$isbn = &quot;&quot;;
+			}
+
+			// Setze Beschreibung
+			if (isset($_POST[&quot;beschreibung&quot;]) === true)
+			{
+				$beschreibung = stripslashes($_POST[&quot;beschreibung&quot;]);
+			}
+			else
+			{
+				$beschreibung = &quot;&quot;;
+			}
+		}
+
+		if (empty($id) === true)
+		{
+			// Gebe Hinzuf&#252;gen-Formular aus
+			echo &quot;&lt;form action=\&quot;litmod.&quot;.$ext.&quot;?insert\&quot; id=\&quot;litaddform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+		}
+		else
+		{
+			// Gebe Update-Formular aus
+			echo &quot;&lt;form action=\&quot;litmod.&quot;.$ext.&quot;?update\&quot; id=\&quot;litupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+			echo form_input(&quot;hidden&quot;, &quot;id&quot;, $id);
+		}
+
+		// Gebe Formular mit vorher bestimmten Werten aus
+	?&gt;
+		&lt;table id=&quot;litadd&quot;&gt;
+			&lt;tbody&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Titel:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;titel&quot;, $titel, $error_titel);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Autor:&lt;/th&gt;
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;autor&quot;, $autor, $error_autor);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Erscheinungsjahr:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;jahr&quot;, $jahr, $error_jahr);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Stichworte:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;stichworte&quot;, $stichworte);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Art:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_select(array(&quot;Anleitung&quot;, &quot;Artikel&quot;, &quot;Brosch&#252;re&quot;, &quot;Buch&quot;, &quot;Diplomarbeit&quot;,
+						&quot;Dissertation&quot;, &quot;Protokoll&quot;, &quot;Sonstiges&quot;, &quot;Techn. Bericht&quot;, &quot;Unver&#246;ffentlicht&quot;),
+						&quot;art&quot;, $art);?&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Verlag:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;verlag&quot;, $verlag);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Verlagsort:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;ort&quot;, $ort);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+	
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;ISBN:&lt;/th&gt;	
+					&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;isbn&quot;, $isbn);?&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Bemerkung:&lt;/th&gt;	
+					&lt;td&gt;&lt;textarea cols=&quot;20&quot; rows=&quot;10&quot; name=&quot;beschreibung&quot; id=&quot;beschreibung&quot;&gt;&lt;?=htmlspecialchars($beschreibung);?&gt;&lt;/textarea&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;row&quot;&gt;Aktionen:&lt;/th&gt;	
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;&Uuml;bernehmen&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+	
+			&lt;/tbody&gt;
+		&lt;/table&gt;
+		&lt;/form&gt;
+	&lt;?php
+	}
+	else
+	{
+		// F&#252;hre Schreibaktionen aus
+		require_once(&quot;include/literatur.php&quot;);
+
+
+		// Suche gew&#228;hlte Aktion
+		if (isset($_GET[&quot;delete&quot;]) === true)
+		{
+			// L&#246;schen wenn akzeptiert wurde
+			if (isset($_POST[&quot;accept&quot;]) === true)
+			{
+				// Fehlerhafte Daten zum L&#246;schen &#252;bertragen?
+				if (empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false)
+				{
+					// Wenn ja, gebe Fehler aus
+					echo &quot;&lt;p id=\&quot;error\&quot;&gt;Literatur konnte nicht gel&#246;scht werden, da es ein Fehler bei der &#220;bertragung der Informationen der Literatur gab&lt;/p&gt;&quot;;
+				}
+				else
+				{
+					// Wenn nicht, l&#246;sche Literatur und gebe Erfolgsmeldung aus
+					Literatur::Delete($_POST[&quot;id&quot;]);
+					echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Literatur wurde entfernt&lt;/p&gt;&quot;;
+				}
+			}
+			else
+			{
+				// Frage ob Literatur gel&#246;scht werden soll
+				require_once(&quot;include/form_helper.php&quot;);
+				echo &quot;&lt;div id=\&quot;warning\&quot; style=\&quot;margin-top: 2em\&quot;&gt;&quot;;
+				echo &quot;Wollen sie die Literatur wirklich entfernen?&quot;;
+				echo &quot;&lt;form action=\&quot;litmod.&quot;.$ext.&quot;?delete\&quot; id=\&quot;litupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+				echo form_input(&quot;hidden&quot;, &quot;id&quot;, $_GET[&quot;id&quot;]);
+				echo form_input(&quot;hidden&quot;, &quot;accept&quot;, &quot;true&quot;);
+				echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Best&#228;tigen\&quot;&gt;&quot;;
+				echo &quot;&lt;/form&gt;&lt;/div&gt;&quot;;
+			}
+		}
+		elseif  (isset($_GET[&quot;insert&quot;]) === true)
+		{
+			if (isset($_POST[&quot;accept&quot;]) === false)
+			{
+				// Suche ob &#228;hnliche Literatur existiert
+				require_once(&quot;include/suche.php&quot;);
+				$search = new Suche($_POST[&quot;titel&quot;], $_POST[&quot;autor&quot;]);
+				if (empty($search-&gt;Treffer) === false)
+				{
+				?&gt;
+					Es wurde &#228;hnliche Literatur gefunden:
+					&lt;table id=&quot;searchresult&quot;&gt;
+				
+						&lt;thead&gt;
+							&lt;tr&gt;
+								&lt;th scope=&quot;col&quot;&gt;Titel&lt;/th&gt;
+								&lt;th scope=&quot;col&quot;&gt;Autor&lt;/th&gt;
+								&lt;th scope=&quot;col&quot;&gt;Verlag&lt;/th&gt;
+								&lt;th scope=&quot;col&quot;&gt;ISBN&lt;/th&gt;
+							&lt;/tr&gt;
+						&lt;/thead&gt;
+					&lt;tbody&gt;
+				&lt;?php
+					// Gebe gefundene Literatur zur&#252;ck
+					foreach ($search-&gt;Treffer as $cur)
+					{
+				?&gt;
+					&lt;tr&gt;
+						&lt;td&gt;&lt;a href=&quot;lit.&lt;?=$ext;?&gt;?id=&lt;?=htmlspecialchars($cur-&gt;Nr);?&gt;&quot;&gt;&lt;?=htmlspecialchars($cur-&gt;Titel);?&gt;&lt;/a&gt;&lt;/td&gt;
+						&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Autor);?&gt;&lt;/td&gt;
+						&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Verlag);?&gt;&lt;/td&gt;
+						&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;ISBN);?&gt;&lt;/td&gt;
+					&lt;/tr&gt;
+				&lt;?php
+					}
+				?&gt;
+						&lt;/tbody&gt;
+					&lt;/table&gt;
+				&lt;?php
+					// Frage nach Best&#228;tigung zum Hinzuf&#252;gen
+					require_once(&quot;include/form_helper.php&quot;);
+					echo &quot;&lt;div id=\&quot;warning\&quot; style=\&quot;margin-top: 2em\&quot;&gt;&quot;;
+					echo &quot;Trotzdem hinzuf&#252;gen?&quot;;
+					echo &quot;&lt;form action=\&quot;litmod.&quot;.$ext.&quot;?insert\&quot; id=\&quot;litupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+					echo form_input(&quot;hidden&quot;, &quot;accept&quot;, &quot;true&quot;);
+					echo form_input(&quot;hidden&quot;, &quot;titel&quot;, $_POST[&quot;titel&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;autor&quot;, $_POST[&quot;autor&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;jahr&quot;, $_POST[&quot;jahr&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;stichworte&quot;, $_POST[&quot;stichworte&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;art&quot;, $_POST[&quot;art&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;verlag&quot;, $_POST[&quot;verlag&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;ort&quot;, $_POST[&quot;ort&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;isbn&quot;, $_POST[&quot;isbn&quot;]);
+					echo form_input(&quot;hidden&quot;, &quot;beschreibung&quot;, $_POST[&quot;beschreibung&quot;]);
+					echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Best&#228;tigen\&quot;&gt;&quot;;
+					echo &quot;&lt;/form&gt;&lt;/div&gt;&quot;;
+				}
+			}
+
+			// Anlegen, wenn keine &#228;hnlichen B&#252;cher gefunden wurden oder wenn akzeptiert wurde
+			if (isset($_POST[&quot;accept&quot;]) === true || empty($search-&gt;Treffer) === true)
+			{
+				// Fehlerhafte Daten zum Anlegen &#252;bertragen?
+				if (isset($_POST[&quot;art&quot;]) === false || isset($_POST[&quot;verlag&quot;]) === false ||
+					isset($_POST[&quot;isbn&quot;]) === false || isset($_POST[&quot;beschreibung&quot;]) === false ||
+					isset($_POST[&quot;ort&quot;]) === false || isset($_POST[&quot;stichworte&quot;]) === false)
+				{
+					// Wenn ja, gebe Fehler aus
+					echo &quot;&lt;p id=\&quot;error\&quot;&gt;Literatur konnte nicht angelegt werden, da es ein Fehler bei der &#220;bertragung der Informationen der Literatur gab&lt;/p&gt;&quot;;
+				}
+				else
+				{
+					// Wenn nicht, lege Literatur an und gebe Erfolgsmeldung aus
+					Literatur::Insert($_POST[&quot;autor&quot;], $_POST[&quot;art&quot;], $_POST[&quot;titel&quot;], $_POST[&quot;jahr&quot;], $_POST[&quot;verlag&quot;], $_POST[&quot;isbn&quot;], $_POST[&quot;beschreibung&quot;], $_POST[&quot;ort&quot;], $_POST[&quot;stichworte&quot;]);
+					echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Literatur wurde hinzugef&#252;gt&lt;/p&gt;&quot;;
+				}
+			}
+		}
+		elseif (isset($_GET[&quot;update&quot;]) === true)
+		{
+			// Fehlerhafte Daten zum &#196;ndern &#252;bertragen?
+			if (empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false ||
+				isset($_POST[&quot;art&quot;]) === false || isset($_POST[&quot;verlag&quot;]) === false ||
+				isset($_POST[&quot;isbn&quot;]) === false || isset($_POST[&quot;beschreibung&quot;]) === false ||
+				isset($_POST[&quot;ort&quot;]) === false || isset($_POST[&quot;stichworte&quot;]) === false)
+			{
+				// Wenn ja, gebe Fehler aus
+				echo &quot;&lt;p id=\&quot;error\&quot;&gt;Literatur konnte nicht ge&#228;ndert werden, da es ein Fehler bei der &#220;bertragung der Informationen der Literatur gab&lt;/p&gt;&quot;;
+			}
+			else
+			{
+				// Wenn nicht, &#228;ndere Literatur und gebe Erfolgsmeldung aus
+				Literatur::Update($_POST[&quot;id&quot;], $_POST[&quot;autor&quot;], $_POST[&quot;art&quot;], $_POST[&quot;titel&quot;], $_POST[&quot;jahr&quot;], $_POST[&quot;verlag&quot;], $_POST[&quot;isbn&quot;], $_POST[&quot;beschreibung&quot;], $_POST[&quot;ort&quot;], $_POST[&quot;stichworte&quot;]);
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Literatur wurde ge&#228;ndert&lt;/p&gt;&quot;;
+			}
+		}
+	}
+?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/login.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/login.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/login.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,52 @@
+&lt;?php
+	$title = &quot;Login&quot;;
+	
+	require_once(&quot;include/global.php&quot;);
+
+	// Suche gew&#228;hlte Aktion
+	if (empty($_POST[&quot;loginname&quot;]) === false &amp;&amp; empty($_POST[&quot;passwort&quot;]) === false)
+	{
+		// Fehlerhafte Daten zum L&#246;schen &#252;bertragen?
+		if (empty($_POST[&quot;loginname&quot;]) === true || empty($_POST[&quot;passwort&quot;]) === true)
+		{
+			// Wenn ja, gebe Fehler aus
+			echo &quot;&lt;p id=\&quot;error\&quot;&gt;Sie konnte nicht angemeldet werden, da es ein Fehler bei der &#220;bertragung der Informationen des Logins gab&lt;/p&gt;&quot;;
+		}
+		else
+		{
+			// Logge Mitglied mit &#252;bergebenen Parametern ein
+			$login = new Login($_POST[&quot;loginname&quot;], $_POST[&quot;passwort&quot;]);
+		}
+	}
+	elseif (isset($_GET[&quot;logout&quot;]) === true)
+	{
+		$login-&gt;Logout();
+	}
+
+	require_once(&quot;include/header.php&quot;);
+?&gt;
+&lt;div id=&quot;clogin&quot; class=&quot;content&quot;&gt;
+	&lt;div style=&quot;text-align: center&quot;&gt;
+	&lt;?php
+		// Gebe je nach Aktion Statusinformation aus
+		if (isset($_GET[&quot;logout&quot;]) === true)
+		{
+			// Verabschiede Nutzer beim Abmelden
+			echo &quot;Auf Wiedersehen&quot;;
+		}
+		elseif ($login-&gt;IsMember() === true)
+		{
+			// Begr&#252;&#223;e Nutzer beim Anmelden
+			require_once(&quot;include/mitglied.php&quot;);
+			$mitglied = new Mitglied($login-&gt;Nr);
+			echo &quot;Willkommen &quot;.$mitglied-&gt;Vorname.&quot; &quot;.$mitglied-&gt;Nachname;
+		}
+		else
+		{
+			// Sonst gebe Fehlermeldung beim Anmelden aus
+			echo &quot;&lt;div id=\&quot;error\&quot;&gt;Login ist Fehlgeschlagen&lt;/div&gt;&quot;;
+		}
+	?&gt;
+	&lt;/div&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/search.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/search.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/search.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,99 @@
+&lt;?php
+	// W&#228;hle Seitentitel nach ausgew&#228;hlter Aktion
+	if (isset($_GET[&quot;suchbegriff&quot;]) === true)
+	{
+		$title = &quot;Suchergebnisse f&uuml;r \&quot;&quot;.htmlspecialchars($_GET[&quot;suchbegriff&quot;]).&quot;\&quot;&quot;;
+	}
+	elseif (isset($_GET[&quot;autor&quot;]) === true &amp;&amp; isset($_GET[&quot;titel&quot;]) === true)
+	{
+		$title = &quot;Suchergebnisse f&uuml;r \&quot;&quot;.htmlspecialchars($_GET[&quot;autor&quot;]).&quot;\&quot; und \&quot;&quot;.htmlspecialchars($_GET[&quot;titel&quot;]).&quot;\&quot;&quot;;
+	}
+	else
+	{
+		$title = &quot;Letzte Literatur&quot;;
+	}
+
+	require_once(&quot;include/header.php&quot;);
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+&lt;?php
+	require_once(&quot;include/suche.php&quot;);
+
+	// Welche Art von Suche?
+	if (isset($_GET[&quot;suchbegriff&quot;]) === true)
+	{
+		// Volltextsuche nach Suchbegriff
+		$search = new Suche($_GET[&quot;suchbegriff&quot;]);
+	}
+	elseif (isset($_GET[&quot;autor&quot;]) === true &amp;&amp; isset($_GET[&quot;titel&quot;]) === true)
+	{
+		// Suche nach Autor und Titel
+		$search = new Suche($_GET[&quot;titel&quot;], $_GET[&quot;autor&quot;]);
+	}
+	else
+	{
+		// Suche zuletzt hinzugef&#252;gte Literatur
+		$search = new Suche();
+	}
+
+	// Wurde etwas gefunden?
+	if (empty($search-&gt;Treffer) === false)
+	{
+	?&gt;
+		&lt;table id=&quot;searchresult&quot;&gt;
+			&lt;thead&gt;
+				&lt;tr&gt;
+					&lt;th scope=&quot;col&quot;&gt;Titel&lt;/th&gt;
+					&lt;th scope=&quot;col&quot;&gt;Autor&lt;/th&gt;
+					&lt;th scope=&quot;col&quot;&gt;Verlag&lt;/th&gt;
+					&lt;th scope=&quot;col&quot;&gt;ISBN&lt;/th&gt;
+				&lt;/tr&gt;
+			&lt;/thead&gt;
+		&lt;tbody&gt;
+	&lt;?php
+		// Gebe alle gefundenen Treffer aus
+		foreach ($search-&gt;Treffer as $cur)
+		{
+	?&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;a href=&quot;lit.&lt;?=$ext;?&gt;?id=&lt;?=htmlspecialchars($cur-&gt;Nr);?&gt;&quot;&gt;&lt;?=htmlspecialchars($cur-&gt;Titel);?&gt;&lt;/a&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Autor);?&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Verlag);?&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;ISBN);?&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+	&lt;?php
+		}
+	?&gt;
+			&lt;/tbody&gt;
+		&lt;/table&gt;	
+	&lt;?php
+	}
+	else
+	{
+		// Wenn nicht, gebe Information aus
+		echo &quot;&lt;div id=\&quot;warning\&quot;&gt;Keine Treffern gefunden&lt;/div&gt;&quot;;
+	}
+?&gt;
+
+
+&lt;?php
+	// Sind Mitgliedsrechte vorhanden, gebe Hinzuf&#252;ge- und Importierknopf aus
+	if ($login-&gt;IsMember() === true)
+	{
+	?&gt;
+		&lt;hr&gt;
+		&lt;form style=&quot;display:inline&quot; action=&quot;litmod.php&quot;&gt;
+			&lt;span&gt;
+				&lt;input type=&quot;submit&quot; value=&quot;Literatur hinzuf&uuml;gen&quot;&gt;
+			&lt;/span&gt;
+		&lt;/form&gt;
+		&lt;form style=&quot;display:inline&quot; action=&quot;bibtex.php&quot;&gt;
+			&lt;span&gt;
+				&lt;input type=&quot;submit&quot; value=&quot;BibTeX importieren&quot;&gt;
+			&lt;/span&gt;
+		&lt;/form&gt;
+	&lt;?php
+	}
+?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/searchmore.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/searchmore.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/searchmore.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,52 @@
+&lt;?php
+	$title = &quot;Erweiterte Suche&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+
+	&lt;form action=&quot;search.&lt;?=$ext;?&gt;&quot; id=&quot;extrasearchform&quot; method=&quot;get&quot;&gt;
+	&lt;fieldset&gt;
+   		 &lt;legend&gt;&lt;b&gt;Autoren- und Titelsuche&lt;/b&gt;&lt;/legend&gt;
+	
+	
+		&lt;table class=&quot;searchmore&quot;&gt;
+			&lt;tbody&gt;
+				&lt;tr&gt;
+					&lt;th scope=row&gt;&lt;label for=&quot;autor&quot;&gt;Autor:&lt;/label&gt;&lt;/th&gt;
+					&lt;td&gt;&lt;input class=&quot;input_text&quot; type=&quot;text&quot; id=&quot;autor&quot; name=&quot;autor&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th scope=row&gt;&lt;label for=&quot;titel&quot;&gt;Titel:&lt;/label&gt;&lt;/th&gt;
+					&lt;td&gt;&lt;input class=&quot;input_text&quot; type=&quot;text&quot; id=&quot;titel&quot; name=&quot;titel&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th&gt;&lt;/th&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Suche&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/tbody&gt;
+		&lt;/table&gt;
+	&lt;/fieldset&gt;
+	&lt;/form&gt;
+
+	&lt;hr&gt;
+	
+	&lt;form action=&quot;search.&lt;?=$ext;?&gt;&quot; id=&quot;fulltextform&quot; method=&quot;get&quot;&gt;
+	&lt;fieldset&gt;
+   		&lt;legend&gt;&lt;b&gt;Volltextsuche&lt;/b&gt;&lt;/legend&gt;
+		&lt;table class=&quot;searchmore&quot;&gt;
+			&lt;tbody&gt;
+				&lt;tr&gt;
+					&lt;th scope=row&gt;&lt;label for=&quot;suchbegriff&quot;&gt;Suchbegriff:&lt;/label&gt;&lt;/th&gt;
+					&lt;td&gt;&lt;input class=&quot;input_text&quot; type=&quot;text&quot; id=&quot;suchbegriff&quot; name=&quot;suchbegriff&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;th&gt;&lt;/th&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Suche&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/tbody&gt;
+		&lt;/table&gt;
+	&lt;/fieldset&gt;
+	&lt;/form&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/user.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/user.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/user.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,88 @@
+&lt;?php
+	$title = &quot;Nutzerdetails&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+	require_once(&quot;include/mitglied.php&quot;);
+
+	// Abbruch wenn keine Mitgliedsrechte vorhanden
+	if ($login-&gt;IsMember() === false)
+	{
+		require_once(&quot;include/footer.php&quot;);
+		die();
+	}
+	elseif ($login-&gt;IsAdministrator() === false)
+	{
+		// Wenn keine Administratorrechte vorhanden sind
+		// d&#252;rfen nur die eigenen Daten angesehen werden
+		$_GET[&quot;id&quot;] = $login-&gt;Nr;
+		$_POST[&quot;id&quot;] = $login-&gt;Nr;
+	}
+
+	// Lese Mitglied aus, wenn id &#252;bergeben wurde
+	if (isset($_GET[&quot;id&quot;]))
+	{
+		$mitglied = new Mitglied($_GET[&quot;id&quot;]);
+	}
+	else
+	{
+		$mitglied = new Mitglied(0);
+	}
+
+	// gebe Informationen zu Mitglied aus
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+	&lt;form action=&quot;usermod.php&quot;&gt;
+	
+	&lt;table id=&quot;bookdetails&quot;&gt;
+		&lt;tbody&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Login:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($mitglied-&gt;Login);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Vorname:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($mitglied-&gt;Vorname);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Nachname:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($mitglied-&gt;Nachname);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Rechte:&lt;/th&gt;	
+				&lt;td&gt;&lt;?php
+					// Wandle Zahlenrepr&#228;sentation der Rechte
+					// in textuelle Repr&#228;sentation um
+					switch ($mitglied-&gt;Rechte)
+					{
+					case 2:
+						$rechte = &quot;Administrator&quot;;
+						break;
+					default:
+					case 1:
+						$rechte = &quot;Benutzer&quot;;
+						break;
+					}
+					echo htmlspecialchars($rechte);
+				?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;E-Mail:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=htmlspecialchars($mitglied-&gt;Email);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Aktionen:&lt;/th&gt;	
+				&lt;td&gt;
+					&lt;form style=&quot;display:inline&quot; action=&quot;usermod.&lt;?=$ext;?&gt;&quot; method=&quot;post&quot;&gt;
+						&lt;span&gt;
+							&lt;input type=&quot;hidden&quot; id=&quot;id&quot; name=&quot;id&quot; value=&quot;&lt;?=htmlspecialchars($_GET[&quot;id&quot;]);?&gt;&quot;&gt;
+							&lt;input type=&quot;submit&quot; value=&quot;Bearbeiten&quot;&gt;
+						&lt;/span&gt;
+					&lt;/form&gt;
+				&lt;/td&gt;
+			&lt;/tr&gt;
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+	&lt;/form&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/sourcecodes/userlist.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/userlist.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/userlist.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,84 @@
+&lt;?php
+	$title = &quot;Nutzer&quot;;
+
+	require_once(&quot;include/header.php&quot;);
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+	&lt;table id=&quot;userlist&quot;&gt;
+		&lt;thead&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;col&quot;&gt;Login&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;Vorname&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;Nachname&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;E-Mail&lt;/th&gt;
+				&lt;th scope=&quot;col&quot;&gt;Aktionen&lt;/th&gt;
+			&lt;/tr&gt;
+		&lt;/thead&gt;
+		&lt;tbody&gt;
+			&lt;?php
+				require_once(&quot;include/mitglied.php&quot;);
+
+				// Lese alle Mitglieder aus (wenn Administrator)
+				// oder eigene Daten (wenn Mitglied)
+				$members = Mitglied::GetAll();
+				foreach ($members as $cur)
+				{
+			?&gt;
+			&lt;tr&gt;
+				&lt;td&gt;&lt;a href=&quot;user.&lt;?=$ext;?&gt;?id=&lt;?=htmlspecialchars($cur-&gt;Nr); ?&gt;&quot;&gt;&lt;?=htmlspecialchars($cur-&gt;Login); ?&gt;&lt;/a&gt;&lt;/td&gt;
+				&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Vorname); ?&gt;&lt;/td&gt;
+				&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Nachname); ?&gt;&lt;/td&gt;
+				&lt;td&gt;&lt;?=htmlspecialchars($cur-&gt;Email); ?&gt;&lt;/td&gt;
+				&lt;td&gt;
+					&lt;?php
+						// Sind Mitgliedsrechte vorhanden, gebe Bearbeitenknopf bei eigenem Eintrag aus
+						// bei Administratoren immer
+						if ($login-&gt;IsAdministrator() === true || $login-&gt;Nr == $cur-&gt;Nr)
+						{
+							echo &quot;&lt;form style=\&quot;display: inline\&quot; method=\&quot;post\&quot; action=\&quot;usermod.$ext?id=&quot;.htmlspecialchars($cur-&gt;Nr).&quot;\&quot;&gt;&quot;;
+							echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Bearbeiten\&quot;&gt;&quot;;
+							echo &quot;&lt;/form&gt;&quot;;
+						}
+						
+						// Sind Administratorrechte vorhanden, gebe L&#246;schknopf aus
+						if ($login-&gt;IsAdministrator() === true)
+						{
+							echo &quot;&lt;form style=\&quot;display: inline\&quot; method=\&quot;post\&quot; action=\&quot;usermod.$ext?delete=&amp;id=&quot;.htmlspecialchars($cur-&gt;Nr).&quot;\&quot;&gt;&quot;;
+							echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;L&#246;schen\&quot;&gt;&quot;;
+							echo &quot;&lt;/form&gt;&quot;;
+						}
+					?&gt;
+				&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;?php
+				}
+			?&gt;
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+
+	&lt;?php
+		// Sind Administratorrechte vorhanden, gebe Hinzuf&#252;ge aus
+		if ($login-&gt;IsAdministrator() === true)
+		{
+	?&gt;
+		&lt;hr&gt;
+		&lt;form action=&quot;usermod.php&quot;&gt;
+			&lt;div&gt;
+				&lt;input type=&quot;submit&quot; value=&quot;Nutzer hinzuf&uuml;gen&quot;&gt;
+			&lt;/div&gt;
+		&lt;/form&gt;
+	&lt;?php
+		}
+		elseif ($login-&gt;IsMember() === true)
+		{
+			echo &quot;&lt;p id=\&quot;warning\&quot;&gt;Sie sind nicht berechtigt alle Nutzerinformationen einzusehen&lt;/p&gt;&quot;;
+		}
+		else
+		{
+			echo &quot;&lt;p id=\&quot;warning\&quot;&gt;Sie sind nicht berechtigt Nutzerinformationen einzusehen&lt;/p&gt;&quot;;
+		}
+	?&gt;
+
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;
+

Added: trunk/docs/beleg3/sourcecodes/usermod.php
===================================================================
--- trunk/docs/beleg3/sourcecodes/usermod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/sourcecodes/usermod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,375 @@
+&lt;?php
+	// W&#228;hle Seitentitel nach ausgew&#228;hlter Aktion
+	if (isset($_GET[&quot;delete&quot;]) === true)
+	{
+		$title = &quot;Nutzer l&#246;schen&quot;;
+	}
+	elseif (isset($_GET[&quot;id&quot;]) === true || isset($_POST[&quot;id&quot;]) === true)
+	{
+		$title = &quot;Nutzer &#228;ndern&quot;;
+	}
+	else
+	{
+		$title = &quot;Nutzer hinzuf&#252;gen&quot;;
+	}
+
+	require_once(&quot;include/header.php&quot;);
+
+	// Abbruch wenn keine Mitgliedsrechte vorhanden
+	// oder gel&#246;scht und hinzugef&#252;gt werden soll und keine Administratorrechte vorliegen
+	if ($login-&gt;IsMember() === false
+		|| ($login-&gt;IsAdministrator() === false
+			&amp;&amp; (isset($_GET[&quot;delete&quot;]) === true || isset($_GET[&quot;insert&quot;]) === true)
+		))
+	{
+		echo &quot;&lt;div id=\&quot;error\&quot;&gt;Sie sind f&#252;r diese Aktion nicht berechtigt&lt;/div&gt;&quot;;
+		require_once(&quot;include/footer.php&quot;);
+		die();
+	}
+	elseif ($login-&gt;IsAdministrator() === false)
+	{
+		// Wenn keine Administratorrechte vorhanden sind
+		// d&#252;rfen nur die eigenen Daten ge&#228;ndert werden
+		$_GET[&quot;id&quot;] = $login-&gt;Nr;
+		$_POST[&quot;id&quot;] = $login-&gt;Nr;
+	}
+?&gt;
+&lt;div id=&quot;cfront&quot; class=&quot;content&quot;&gt;
+&lt;?php
+	$error_occurred = false; // Fehler beim Verarbeiten aufgetreten?
+	$error_benutzername = false;
+	$error_vorname = false;
+	$error_nachname = false;
+	$error_email = false;
+	$error_password = false;
+	$error_password_missing = false;
+	$error_password_different = false;
+
+	// &#220;berpr&#252;fe wichtige Parameter bei Insert und Update auf Vorhandensein
+	if (isset($_GET[&quot;insert&quot;]) === true || isset($_GET[&quot;update&quot;]) === true)
+	{
+		if (empty($_POST[&quot;benutzername&quot;]) === true)
+		{
+			$error_benutzername = true;
+			$error_occurred = true;
+		}
+
+		if (empty($_POST[&quot;vorname&quot;]) === true)
+		{
+			$error_vorname = true;
+			$error_occurred = true;
+		}
+
+		if (empty($_POST[&quot;nachname&quot;]) === true)
+		{
+			$error_nachname = true;
+			$error_occurred = true;
+		}
+		
+		if (empty($_POST[&quot;email&quot;]) === true)
+		{
+			$error_email = true;
+			$error_occurred = true;
+		}
+
+		// Teste ob Passwort beim hinzuf&#252;gen vergessen wurde
+		if (empty($_POST[&quot;password&quot;]) === true &amp;&amp; isset($_GET[&quot;insert&quot;]) === true)
+		{
+			$error_password = true;
+			$error_password_missing = true;
+			$error_occurred = true;
+		}
+
+		if (empty($_POST[&quot;password&quot;]) === false || empty($_POST[&quot;password_check&quot;]) === false)
+		{
+			// Teste ob Passw&#246;rter unterschiedlich sind
+			if ($_POST[&quot;password&quot;] != $_POST[&quot;password_check&quot;])
+			{
+				$error_password = true;
+				$error_password_different = true;
+				$error_occurred = true;
+			}
+		}
+	}
+
+	// Gebe Fehler bei Parameter&#252;berpr&#252;fung aus
+	if ($error_occurred == true)
+	{
+		echo &quot;&lt;div id=\&quot;error_list\&quot;&gt;Es scheinen Fehler bei der Verarbeitung aufgetreten zu sein:&lt;ul&gt;&quot;;
+		
+		if ($error_benutzername === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen ein Login angeben&lt;/li&gt;&quot;;
+		}
+		
+		if ($error_vorname === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen einen Vornamen angeben&lt;/li&gt;&quot;;
+		}
+		
+		if ($error_nachname === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen ein Nachnamen angeben&lt;/li&gt;&quot;;
+		}
+		
+		if ($error_email === true)
+		{
+			echo &quot;&lt;li&gt;E-Mail scheint nicht korrekt zu sein&lt;/li&gt;&quot;;
+		}
+		
+		if ($error_password_missing === true)
+		{
+			echo &quot;&lt;li&gt;Sie m&#252;ssen ein Passwort angeben&lt;/li&gt;&quot;;
+		}
+		elseif ($error_password_different === true)
+		{
+			echo &quot;&lt;li&gt;Passw&#246;rter stimmen nicht &#252;berein&lt;/li&gt;&quot;;
+		}
+
+		echo &quot;&lt;/ul&gt;&lt;/div&gt;&quot;;
+	}
+
+
+	// Gebe Formular aus, wenn keine Schreibaktionen ausgef&#252;hrt werden
+	if ((isset($_GET[&quot;delete&quot;]) === false &amp;&amp; isset($_GET[&quot;insert&quot;]) === false &amp;&amp; isset($_GET[&quot;update&quot;]) === false)
+		|| $error_occurred === true)
+	{
+		// Lese id aus, wenn vorhanden
+		if (isset($_POST[&quot;id&quot;]) === true)
+		{
+			$id = $_POST[&quot;id&quot;];
+		}
+		elseif (isset($_GET[&quot;id&quot;]) === true)
+		{
+			$id = $_GET[&quot;id&quot;];
+		}
+		else
+		{
+			unset($id);
+		}
+
+		require_once(&quot;include/form_helper.php&quot;);
+		// Lese Mitglied aus, wenn id bekannt ist und vorher kein Fehler aufgetreten ist
+		if ($error_occurred === false &amp;&amp; (isset($_GET[&quot;id&quot;]) === true || isset($_POST[&quot;id&quot;]) === true))
+		{
+			require_once(&quot;include/mitglied.php&quot;);
+			$mitglied = new Mitglied($id);
+			$benutzername = $mitglied-&gt;Login;
+
+			if (isset($mitglied-&gt;Rechte) === true)
+			{
+				switch ($mitglied-&gt;Rechte)
+				{
+				case 2:
+					$rechte = &quot;Administrator&quot;;
+					break;
+				default:
+				case 1:
+					$rechte = &quot;Benutzer&quot;;
+					break;
+				}
+			}
+			else
+			{
+				$rechte = &quot;Benutzer&quot;;
+			}
+
+			$vorname = $mitglied-&gt;Vorname;
+			$nachname = $mitglied-&gt;Nachname;
+			$email = $mitglied-&gt;Email;
+		}
+		else
+		{
+			// Sollte vorher Fehler aufgetreten sein, lese Parameter aus.
+			// Sollten vorher keine Fehler aufgetreten sein (keine
+			// id bekannt), setze Default Wert
+
+			// Setze Login
+			if (isset($_POST[&quot;benutzername&quot;]) === true)
+			{
+				$benutzername = stripslashes($_POST[&quot;benutzername&quot;]);
+			}
+			else
+			{
+				$benutzername = &quot;&quot;;
+			}
+
+			// Setze Rechte
+			if (isset($_POST[&quot;rechte&quot;]) === true)
+			{
+				$rechte = stripslashes($_POST[&quot;rechte&quot;]);
+			}
+			else
+			{
+				$rechte = &quot;Benutzer&quot;;
+			}
+
+			// Setze Vorname
+			if (isset($_POST[&quot;vorname&quot;]) === true)
+			{
+				$vorname = stripslashes($_POST[&quot;vorname&quot;]);
+			}
+			else
+			{
+				$vorname = &quot;&quot;;
+			}
+
+			// Setze Nachname
+			if (isset($_POST[&quot;nachname&quot;]) === true)
+			{
+				$nachname = stripslashes($_POST[&quot;nachname&quot;]);
+			}
+			else
+			{
+				$nachname = &quot;&quot;;
+			}
+
+			// Setze Email
+			if (isset($_POST[&quot;email&quot;]) === true)
+			{
+				$email = stripslashes($_POST[&quot;email&quot;]);
+			}
+			else
+			{
+				$email = &quot;&quot;;
+			}
+
+			// &#220;bernehme nie das Passwort
+			$passwort = &quot;&quot;;
+		}
+
+	if (empty($id) === true)
+	{
+		// Gebe Hinzuf&#252;gen-Formular aus
+			echo &quot;&lt;form action=\&quot;usermod.&quot;.$ext.&quot;?insert\&quot; id=\&quot;useraddform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+	}
+	else
+	{
+		// Gebe Update-Formular aus
+		echo &quot;&lt;form action=\&quot;usermod.&quot;.$ext.&quot;?update\&quot; id=\&quot;userupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+		echo form_input(&quot;hidden&quot;, &quot;id&quot;, $id);
+	}
+
+	// Gebe Formular mit vorher bestimmten Werten aus
+?&gt;
+	&lt;table id=&quot;bookdetails&quot;&gt;
+		&lt;tbody&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Login:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;benutzername&quot;, $benutzername, $error_benutzername);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Vorname:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;vorname&quot;, $vorname, $error_vorname);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Nachname:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;nachname&quot;, $nachname, $error_nachname);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;E-Mail:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;text&quot;, &quot;email&quot;, $email, $error_email);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot; name=&quot;rechte&quot; id=&quot;rechte&quot;&gt;Rechte:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_select(array(&quot;Administrator&quot;, &quot;Benutzer&quot;),
+					&quot;rechte&quot;, $rechte);?&gt;
+				&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Passwort:&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;password&quot;, &quot;password&quot;, &quot;&quot;, $error_password);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Passwort (wiederholen):&lt;/th&gt;	
+				&lt;td&gt;&lt;?=form_input(&quot;password&quot;, &quot;password_check&quot;, &quot;&quot;, $error_password);?&gt;&lt;/td&gt;
+			&lt;/tr&gt;
+
+			&lt;tr&gt;
+				&lt;th scope=&quot;row&quot;&gt;Aktionen:&lt;/th&gt;	
+				&lt;td&gt;
+				&lt;input type=&quot;submit&quot; value=&quot;&Uuml;bernehmen&quot;&gt;
+				&lt;/td&gt;
+			&lt;/tr&gt;
+
+		&lt;/tbody&gt;
+	&lt;/table&gt;
+	&lt;/form&gt;
+&lt;?php
+	}
+	else
+	{
+		// F&#252;hre Schreibaktionen aus
+		
+		require_once(&quot;include/mitglied.php&quot;);
+		
+		// Suche gew&#228;hlte Aktion
+		if (isset($_GET[&quot;delete&quot;]) === true)
+		{
+			// L&#246;schen wenn akzeptiert wurde
+			if (isset($_POST[&quot;accept&quot;]) === true)
+			{
+				// Fehlerhafte Daten zum L&#246;schen &#252;bertragen?
+				if (empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false)
+				{
+					// Wenn ja, gebe Fehler aus
+					echo &quot;&lt;p id=\&quot;error\&quot;&gt;Nutzer konnte nicht gel&#246;scht werden, da es ein Fehler bei der &#220;bertragung der Informationen des Nutzers gab&lt;/p&gt;&quot;;
+				}
+				else
+				{
+					// Wenn nicht, l&#246;sche Mitglied und gebe Erfolgsmeldung aus
+					Mitglied::Delete($_POST[&quot;id&quot;]);
+					echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Nutzer wurde entfernt&lt;/p&gt;&quot;;
+				}
+			}
+			else
+			{
+				// Frage ob Mitglied gel&#246;scht werden soll
+				require_once(&quot;include/form_helper.php&quot;);
+				echo &quot;&lt;div id=\&quot;warning\&quot; style=\&quot;margin-top: 2em\&quot;&gt;&quot;;
+				echo &quot;Wollen sie den Nutzer wirklich entfernen?&quot;;
+				echo &quot;&lt;form action=\&quot;usermod.&quot;.$ext.&quot;?delete\&quot; id=\&quot;userupdateform\&quot; method=\&quot;post\&quot;&gt;&quot;;
+				echo form_input(&quot;hidden&quot;, &quot;id&quot;, $_GET[&quot;id&quot;]);
+				echo form_input(&quot;hidden&quot;, &quot;accept&quot;, &quot;true&quot;);
+				echo &quot;&lt;input type=\&quot;submit\&quot; value=\&quot;Best&#228;tigen\&quot;&gt;&quot;;
+				echo &quot;&lt;/form&gt;&lt;/div&gt;&quot;;
+			}
+		}
+		elseif  (isset($_GET[&quot;insert&quot;]) === true)
+		{
+			// Versuche Benutzer anzulegen
+			if (Mitglied::Insert($_POST[&quot;benutzername&quot;], $_POST[&quot;password&quot;], $_POST[&quot;rechte&quot;], $_POST[&quot;vorname&quot;], $_POST[&quot;nachname&quot;], $_POST[&quot;email&quot;]) === true)
+			{
+				// Wenn ok, gebe Erfolgsmeldung aus
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Nutzer wurde angelegt&lt;/p&gt;&quot;;
+			}
+			else
+			{
+				// Wenn nicht, gebe Fehler aus
+				echo &quot;&lt;p id=\&quot;warning\&quot;&gt;Nutzer konnte nicht angelegt werden. Ist Login vielleicht schon vergeben?&lt;/p&gt;&quot;;
+			}
+		}
+		elseif (isset($_GET[&quot;update&quot;]) === true)
+		{
+			// Fehlerhafte Daten zum &#196;ndern &#252;bertragen?
+			if (empty($_POST[&quot;id&quot;]) === true || is_numeric($_POST[&quot;id&quot;]) === false)
+			{
+				// Wenn ja, gebe Fehler aus
+				echo &quot;&lt;p id=\&quot;error\&quot;&gt;Nutzer konnte nicht ge&#228;ndert werden, da es ein Fehler bei der &#220;bertragung der Informationen des Nutzers gab&lt;/p&gt;&quot;;
+			}
+			elseif (Mitglied::Update($_POST[&quot;id&quot;], $_POST[&quot;benutzername&quot;], $_POST[&quot;password&quot;], $_POST[&quot;rechte&quot;], $_POST[&quot;vorname&quot;], $_POST[&quot;nachname&quot;], $_POST[&quot;email&quot;]) === true)
+			{
+				// Wenn ok, gebe Erfolgsmeldung aus
+				echo &quot;&lt;p style=\&quot;text-align: center\&quot;&gt;Nutzer wurde ge&#228;ndert&lt;/p&gt;&quot;;
+			}
+			else
+			{
+				// Wenn nicht, gebe Fehler aus
+				echo &quot;&lt;p id=\&quot;warning\&quot;&gt;Nutzer konnte nicht ge&#228;ndert werden. Ist Login vielleicht schon vergeben?&lt;/p&gt;&quot;;
+			}
+		}
+	}
+?&gt;
+&lt;/div&gt;
+&lt;?php	require_once(&quot;include/footer.php&quot;); ?&gt;

Added: trunk/docs/beleg3/tests.tex
===================================================================
--- trunk/docs/beleg3/tests.tex	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/docs/beleg3/tests.tex	2006-06-13 14:53:50 UTC (rev 165)
@@ -0,0 +1,8 @@
+\section{Testplan}
+\subsection{Testf&#195;&#164;lle}
+
+\subsection{Testmatrix}
+
+\section{Systemtest}
+
+\section{Abschlu&#195;&#159;einsch&#195;&#164;tzung}

Modified: trunk/include/config.php
===================================================================
--- trunk/include/config.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/include/config.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -3,11 +3,11 @@
 
 	// Datenbankeinstellungen
 	$db_config['dbms'] = &quot;mysql&quot;;	// welche Datenbankklasse benutzen?
-	$db_config['user'] = &quot;liman&quot;;
-	$db_config['pass'] = &quot;drownamil&quot;;
-	$db_config['name'] = &quot;liman&quot;;
-	$db_config['host'] = &quot;db.berlios.de&quot;;
-	$db_config['prefix'] = &quot;liman_&quot;;
+	$db_config['user'] = &quot;&quot;; // Nutzername des Datenbanknutzers
+	$db_config['pass'] = &quot;&quot;; // Passwort f&#252;r Datenbanknutzer
+	$db_config['name'] = &quot;&quot;; // Name der Datenbank
+	$db_config['host'] = &quot;&quot;; // Adresse des Datenbankservers
+	$db_config['prefix'] = &quot;liman_&quot;; // Prefix der Tabellennamen
 
 	$ext = &quot;php&quot;;	// Endung der von den Usern abrufbaren Dateien
 	$gz_enable = true; // aktiviere GZIP-Kompression der HTML-Dateien

Modified: trunk/index.php
===================================================================
--- trunk/index.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/index.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;Letzte Literatur&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 ?&gt;

Modified: trunk/install.php
===================================================================
--- trunk/install.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/install.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -27,6 +27,7 @@
 	&lt;body id=&quot;liman_install&quot;&gt;
 		&lt;h1&gt;LiMan Installation&lt;/h1&gt;
 &lt;?php
+	// Lese &#195;&#188;bergebene Variablen aus bzw. setzte Standardwerte
 	if (empty($_POST[&quot;dbms&quot;]) === false)
 	{
 		$db_config['dbms'] = &quot;mysql&quot;;
@@ -81,15 +82,6 @@
 		$db_config['host'] = &quot;&quot;;
 	}
 
-	if (empty($_POST[&quot;name&quot;]) === false)
-	{
-		$db_config['name'] = $_POST[&quot;name&quot;];
-	}
-	else
-	{
-		$db_config['name'] = &quot;liman&quot;;
-	}
-
 	if (empty($_POST[&quot;prefix&quot;]) === false)
 	{
 		$db_config['prefix'] = $_POST[&quot;prefix&quot;];
@@ -133,16 +125,20 @@
 	}
 
 	
+	// Soll Tabellen Datenbank erstellt werden?
 	if (isset($_GET[&quot;install&quot;]) === true)
 	{
+		// Wenn ja, verbinde mit Datenbank
 		require_once(&quot;include/sqldb.php&quot;);
-	
+
+		// Erstelle SQL-Befehle zum L&#195;&#182;schen alter Tabellen
 		$sqlDrop[&quot;Autoren&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Autoren`&quot;;
 		$sqlDrop[&quot;Bibliothek&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Bibliothek`&quot;;
 		$sqlDrop[&quot;Kommentare&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Kommentare`&quot;;
 		$sqlDrop[&quot;Literatur_Autor&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Literatur_Autor`&quot;;
 		$sqlDrop[&quot;Mitglieder&quot;] = &quot;DROP TABLE IF EXISTS `&quot;.$db_config['prefix'].&quot;Mitglieder`&quot;;
-	
+
+		// Erstelle SQL-Befehle zum Erstellen neuer Tabellen
 		$sqlCreate[&quot;Autoren&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Autoren` (
 			`Autor_Nr` int(11) NOT NULL auto_increment,
 			`Autorname` varchar(40) NOT NULL,
@@ -150,7 +146,6 @@
 			UNIQUE KEY `Autorname` (`Autorname`),
 			FULLTEXT KEY `Autorname_2` (`Autorname`)
 			)&quot;;
-	
 		$sqlCreate[&quot;Bibliothek&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Bibliothek` (
 			`Literatur_Nr` int(11) NOT NULL auto_increment,
 			`Art` enum('Buch','Artikel','Brosch&#195;&#188;re','Protokoll','Anleitung','Diplomarbeit','Dissertation','Techn. Bericht','Unver&#195;&#182;ffentlicht','Sonstiges') NOT NULL,
@@ -164,7 +159,6 @@
 			PRIMARY KEY  (`Literatur_Nr`),
 			FULLTEXT KEY `Titel` (`Titel`,`Verlag`,`ISBN`,`Beschreibung`,`Ort`,`Stichworte`)
 			)&quot;;
-	
 		$sqlCreate[&quot;Kommentare&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Kommentare` (
 			`Kommentar_Nr` int(11) NOT NULL auto_increment,
 			`Kommentartext` text NOT NULL,
@@ -174,13 +168,11 @@
 			KEY `Literatur_Nr` (`Literatur_Nr`,`Mitglieds_Nr`),
 			FULLTEXT KEY `Kommentartext` (`Kommentartext`)
 			)&quot;;
-	
 		$sqlCreate[&quot;Literatur_Autor&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Literatur_Autor` (
 			`Autor_Nr` int(11) NOT NULL,
 			`Literatur_Nr` int(11) NOT NULL,
 			KEY `Autor_Nr` (`Autor_Nr`,`Literatur_Nr`)
 			)&quot;;
-	
 		$sqlCreate[&quot;Mitglieder&quot;] = &quot;CREATE TABLE `&quot;.$db_config['prefix'].&quot;Mitglieder` (
 			`Mitglieds_Nr` int(11) NOT NULL auto_increment,
 			`Name` varchar(20) NOT NULL,
@@ -193,6 +185,7 @@
 			UNIQUE KEY `Login` (`Login`)
 			)&quot;;
 	
+		// Sollen Tabellen mit Standardzeichenkodierung UTF-8 erstellt werden?
 		if ($enableUTF8 === true)
 		{
 			$sqlCreate[&quot;Autoren&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
@@ -202,37 +195,47 @@
 			$sqlCreate[&quot;Mitglieder&quot;] .= &quot; DEFAULT CHARSET=utf8&quot;;
 		}
 	
+		// Erstelle SQL-Befehle zum Anlegen des ersten Nuters an
 		$sqlInsertMitglied = &quot;INSERT INTO &quot;.$db_config['prefix'].&quot;Mitglieder
 				VALUES (NULL, 'Istrator', 'Admin', '<A HREF="https://lists.berlios.de/mailman/listinfo/liman-svn">foo at bar.de</A>', '$loginname', '$passworthash', 'Administrator')&quot;;
 	
+		// L&#195;&#182;sche alte Tabellen in Datenbank
 		foreach ($sqlDrop as $drop)
 		{
 			if ($sqldb-&gt;Query($drop) === false)
 			{
-				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei der Verarbeitung auf:&lt;pre&gt;&quot;;
-				echo htmlspecialchars($drop);
+				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem L&#195;&#182;schen alter Tabellen auf:&lt;pre&gt;&quot;;
+				$error = $sqldb-&gt;GetError();
+				echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+				echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($drop);
 				echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
 				echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
 				die();
 			}
 		}
 	
+		// Erstelle neue Tabellen
 		foreach ($sqlCreate as $create)
 		{
 			if ($sqldb-&gt;Query($create) === false)
 			{
-				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei der Verarbeitung auf:&lt;pre&gt;&quot;;
-				echo htmlspecialchars($create);
+				echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem Erstellen neuer Tabellen auf:&lt;pre&gt;&quot;;
+				$error = $sqldb-&gt;GetError();
+				echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+				echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($create);
 				echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
 				echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
 				die();
 			}
 		}
 	
+		// Einf&#195;&#188;gen erstes Mitglied (Administrator)
 		if ($sqldb-&gt;Query($sqlInsertMitglied) === false)
 		{
-			echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei der Verarbeitung auf:&lt;pre&gt;&quot;;
-			echo htmlspecialchars($sqlInsertMitglied);
+			echo &quot;&lt;div class=\&quot;error\&quot;&gt;Es trat ein Fehler bei dem Einf&#195;&#188;gen des ersten Mitglieds auf:&lt;pre&gt;&quot;;
+			$error = $sqldb-&gt;GetError();
+			echo htmlspecialchars($error[0]).&quot;&lt;br&gt;&quot;;
+			echo &quot;SQL-Befehl: &lt;br&gt;&quot;.htmlspecialchars($sqlInsertMitglied);
 			echo &quot;&lt;/pre&gt;&lt;/div&gt;&quot;;
 			echo &quot;&lt;/body&gt;&lt;/html&gt;&quot;;
 			die();
@@ -240,7 +243,7 @@
 
 		?&gt;
 			&lt;p&gt;Datenbank wurde erfolgreich eingerichtet.&lt;/p&gt;
-			&lt;p&gt;Erstellen sie in ihrem Installationsordner eine Datei mit dem Namen &quot;config.php&quot; und folgendem Inhalt:
+			&lt;p&gt;Erstellen sie in ihrem Installationsordner unter &quot;include&quot; eine Datei mit dem Namen &quot;config.php&quot; und folgendem Inhalt:
 			&lt;pre&gt;
 &lt;?php
 	// Datenbankeinstellungen

Modified: trunk/lit.php
===================================================================
--- trunk/lit.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/lit.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;Literaturdetails&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 	require_once(&quot;include/literatur.php&quot;);

Modified: trunk/litmod.php
===================================================================
--- trunk/litmod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/litmod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -12,7 +12,6 @@
 	{
 		$title = &quot;Literatur hinzuf&#195;&#188;gen&quot;;
 	}
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 

Modified: trunk/login.php
===================================================================
--- trunk/login.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/login.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,7 +1,5 @@
 &lt;?php
 	$title = &quot;Login&quot;;
-	//$extracss = &quot;home.css&quot;;
-
 	
 	require_once(&quot;include/global.php&quot;);
 

Modified: trunk/search.php
===================================================================
--- trunk/search.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/search.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,4 @@
 &lt;?php
-	//$extracss = &quot;home.css&quot;;
-
 	// W&#195;&#164;hle Seitentitel nach ausgew&#195;&#164;hlter Aktion
 	if (isset($_GET[&quot;suchbegriff&quot;]) === true)
 	{

Modified: trunk/searchmore.php
===================================================================
--- trunk/searchmore.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/searchmore.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;Erweiterte Suche&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 ?&gt;

Modified: trunk/user.php
===================================================================
--- trunk/user.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/user.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;Nutzerdetails&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 	require_once(&quot;include/mitglied.php&quot;);

Modified: trunk/userlist.php
===================================================================
--- trunk/userlist.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/userlist.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -1,6 +1,5 @@
 &lt;?php
 	$title = &quot;Nutzer&quot;;
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 ?&gt;

Modified: trunk/usermod.php
===================================================================
--- trunk/usermod.php	2006-06-13 14:05:01 UTC (rev 164)
+++ trunk/usermod.php	2006-06-13 14:53:50 UTC (rev 165)
@@ -12,7 +12,6 @@
 	{
 		$title = &quot;Nutzer hinzuf&#195;&#188;gen&quot;;
 	}
-	//$extracss = &quot;home.css&quot;;
 
 	require_once(&quot;include/header.php&quot;);
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000154.html">[Liman-svn] r164 - in trunk: docs/beleg2 docs/beleg2/doxygen docs/beleg3/interfaces include
</A></li>
	<LI>Next message: <A HREF="000156.html">[Liman-svn] r166 - in trunk: docs/beleg3/sourcecodes/include include
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/liman-svn">More information about the Liman-svn
mailing list</a><br>
</body></html>
